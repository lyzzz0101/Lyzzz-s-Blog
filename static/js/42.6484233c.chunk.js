(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1119:function(e,t,a){e.exports=a.p+"c429755948f410cbc6ec31332cd87477.csv"},1120:function(e,t,a){},1301:function(e,t,a){"use strict";a.r(t);var n=a(55),i=a(6),r=a(0),o=a.n(r),c=a(616),s=a.n(c),l=(a(659),a(4)),u=(a(178),a(16)),m=a.n(u),d=(a(147),a(95)),h=(a(621),a(633),a(625),a(673),a(638),a(1119)),p=a.n(h),f=(a(1120),function(e){return s()(e).format("0,0.0a")}),v=(l.scaleLinear().range(["#c7ecee","#686de0"]).domain([0,1]),["society","visualization","data"]),g=l.scaleLinear().domain([0,5]).range([0,1]),y=[l.interpolateRainbow(.43),l.interpolateRainbow(.76),l.interpolateRainbow(.1)],_=function(e){var t=m.a.map(v,function(t,a){return[a,e[a]]}),a=m.a.maxBy(t,"1");return b[a[0]](a[1])},b=y.map(function(e){return l.interpolateHsl("#e2e4e7",e)}),S=function(e){return l.timeParse("%m/%d/%Y")(e.date)};t.default=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)([0,0]),u=Object(i.a)(s,2),d=u[0],h=u[1];return Object(r.useEffect)(function(){l.csv(p.a).then(function(e){var t=m.a.orderBy(m.a.map(e,function(e){return Object(n.a)(Object(n.a)({},e),{},{color:_(m.a.map(v,function(t){return g(+e[t]||0)}))})}),S,"asc");c(t)})},[]),o.a.createElement("div",{className:"DVS"},o.a.createElement("h2",{className:"DVS__title"},"Data Visualization Society"),o.a.createElement("div",{className:"DVS__contents"},o.a.createElement("div",{className:"DVS__map"},o.a.createElement("div",{className:"DVS__description"},o.a.createElement("p",null,"Over the past few weeks, 3,500 people have signed up for an invite to the ",o.a.createElement("b",null,"Data Visualization Society")," to discuss, envision, and engage. Explore their expertise and location (log scaled and converted to polar coordinates) relative to you."),o.a.createElement(L,null)),a.length?o.a.createElement(x,{data:a,location:d}):o.a.createElement("div",{className:"DVS__loading"},"Loading...")),o.a.createElement(D,{location:d,setLocation:h})))};var k=[["Amsterdam","Netherlands",52.368,4.9036],["Bangkok","Thailand",13.7563,100.5018],["Barcelona","Spain",41.3851,2.1734],["Beijing","China",39.9042,116.4074],["Berlin","Germany",52.52,13.405],["Bombay","India",19.076,72.8777],["Cape Town","South Africa",-33.9249,18.4241],["Copenhagen","Denmark",55.6761,12.5683],["Helsinki","Finland",60.1699,24.9384],["Lima","Peru",-12.0464,-77.0428],["London","England",51.5074,-.1278],["NYC","USA",40.7128,-74.006],["Paris","France",48.8566,2.3522],["Reykjav\xedk","Iceland",64.1466,-21.9426],["Rio de Janeiro","Brazil",-22.9068,-43.1729],["Rome","Italy",41.9028,12.4964],["San Francisco","USA",37.7749,-122.4194],["Stockholm","Sweden",59.3293,18.0686],["Sydney","Australia",-33.8688,151.2093],["Tokyo","Japan",35.6895,139.6917],["Vancouver","Canada",49.2827,-123.1207],["Venice","Italy",45.4408,12.3155],["Vienna","Austria",48.2082,16.3738],["Z\xfcrich","Switzerland",47.3769,8.5417]],E=function(e){return e?150*Math.log10(e):0},x=function(e){var t=e.data,a=void 0===t?[]:t,c=e.location,s=Object(r.useState)({thisCity:null,cities:[],dots:[]}),l=Object(i.a)(s,2),u=l[0],d=l[1];return Object(r.useEffect)(function(){var e=m.a.map(a,function(e){return Object(n.a)(Object(n.a)({},e),{},{location:O(0,0,N(j(c[1],+e.long),+e.lat-c[0]),E(w(j(c[1],+e.long),+e.lat-c[0])))})}),t=k.map(function(e){var t=w(j(c[1],e[3]),e[2]-c[0]),a=N(j(c[1],e[3]),e[2]-c[0]);return{angle:a,location:O(0,0,a,E(t)+50),baseDistance:t,name:"".concat(e[0],", ").concat(e[1]),city:e[0],country:e[1]}}),i=2*Math.PI/9,r=.1*i,o=m.a.filter(m.a.map(m.a.times(10),function(e){var a=i*e-Math.PI+r,n=i*(e+1)-Math.PI-r;return m.a.find(t,function(e){return e.baseDistance>50&&e.angle>a&&e.angle<n})}),function(e){return e}),s=m.a.find(t,function(e){return e.baseDistance<2});d({thisCity:s,cities:o,dots:e})},[a,c]),o.a.createElement("div",{className:"DVSMap"},o.a.createElement("div",{className:"DVSMap__center"},o.a.createElement("div",{className:"DVSMap__center__text"},u.thisCity&&u.thisCity.city),o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",strokeLinecap:"round",strokeLinejoin:"round"},o.a.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),o.a.createElement("polyline",{points:"9 22 9 12 15 12 15 22"}))),m.a.map(u.cities,function(e,t){return o.a.createElement("div",{className:"DVSMap__location",key:e.name,style:{transform:"translate(".concat(e.location[0],"px, ").concat(-1*e.location[1],"px)")}},o.a.createElement("div",{className:"DVSMap__location__arrow",style:{transform:"rotate(".concat(-e.angle*(180/Math.PI)-90,"deg)")}}),o.a.createElement("div",{className:"DVSMap__location__city"},e.city),o.a.createElement("div",{className:"DVSMap__location__country"},e.country))}),m.a.map(u.dots,function(e,t){return o.a.createElement(M,{key:t,i:t,color:e.color,location:e.location})}))},M=o.a.memo(function(e){var t=e.color,a=e.location,n=e.i;return o.a.createElement("div",{className:"DVSMap__dot",style:{background:t,transform:"translate(".concat(a[0],"px, ").concat(-1*a[1],"px)"),animationDelay:"".concat(.003*n,"s")}})}),N=function(e,t){return Math.atan2(t,e)},w=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},O=function(e,t,a,n){return[Math.round(Math.cos(a)*n+e),Math.round(Math.sin(a)*n+t)]},j=function(e,t){var a=[e-180,e+180];return t<a[0]?a[1]-(a[0]-t)-e:t>a[1]?-1*(e-(a[0]+(t-a[1]))):t-e},D=function(e){var t=e.location,a=e.setLocation,n=Object(r.useState)(),c=Object(i.a)(n,2),s=c[0],l=c[1],u=function(){navigator.geolocation.getCurrentPosition(function(e){a([e.coords.latitude,e.coords.longitude]),l()})};Object(r.useEffect)(function(){u()},[]);return o.a.createElement("div",{className:"DVSLocation"},o.a.createElement("div",{className:"DVSLocation__current"},o.a.createElement("i",null,"Centered at ",t.map(f).join(", "))),o.a.createElement(d.a,{onClick:u},"Grab my location"),o.a.createElement("h6",null,"What about in..."),m.a.map(k,function(e){return o.a.createElement(d.a,{className:"DVSLocation__city DVSLocation__city--is-".concat(s==e[0]?"selected":"not-selected"),onClick:(t=e,function(){a(t.slice(2)),l(t[0])})},o.a.createElement("div",null,e[0]),o.a.createElement("div",null,e[1]));var t}))},L=function(){return o.a.createElement("div",{className:"DVSLegend"},o.a.createElement("h6",null,"Top skill"),o.a.createElement("div",{className:"DVSLegend__axes"},m.a.map(v,function(e,t){return o.a.createElement("div",{className:"DVSLegend__axis",key:e},o.a.createElement("div",{className:"DVSLegend__axis__name"},e),o.a.createElement("div",{className:"DVSLegend__axis__gradient",style:{background:"linear-gradient(to right, ".concat(m.a.map(m.a.times(10,function(e){return b[t](e/9)})).join(", "),")")}}))})))}},621:function(e,t,a){"use strict";var n=a(75),i=a(17),r=a(13),o=a(41),c=a(42),s=a(0),l=a.n(s),u=a(178),m=a.n(u),d=(a(616),a(16)),h=a.n(d);a(4);a(622);var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:0,bottom:0};return Math.max(e-t.top-t.bottom,0)},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{left:0,right:0};return Math.max(e-t.left-t.right,0)},v=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).setSize=function(){if(n._isMounted){var e=n.props,t=e.height,a=e.width,i=e.margin;n.setState({height:p(t,i)}),n.setState({width:f(a,i)})}},n.state={height:n.props.height,width:n.props.width,isLoaded:!1},n}return Object(r.a)(a,[{key:"getClassName",value:function(){return m()("Chart",this.props.className)}},{key:"getWrapperStyle",value:function(){var e=this.props.margin,t="translate3d(".concat(e.left,"px, ").concat(e.top,"px, 0)");return{transform:t,WebkitTransform:t}}},{key:"componentWillMount",value:function(){this.setSize()}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._setSize=this.setSize,window.addEventListener("resize",this._setSize),setTimeout(function(){e.setState({isLoaded:!0})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,window.removeEventListener("resize",this._setSize)}},{key:"renderClipPath",value:function(){var e=this.state,t=e.height,a=e.width,n=this.props.margin;return l.a.createElement("clipPath",{id:"chartPath-clip"},l.a.createElement("rect",{className:"Chart__clip-path",x:n.left,y:n.top,height:t,width:a}))}},{key:"render",value:function(){var e=this.props,t=e.height,a=e.width,n=e.margin,i=e.hasNoListener,r=e.children,o=(e.line,e.area,e.bar,e.xAxis,e.yAxis,e.brush,e.hasTooltip,e.onMouseMove),c=e.onMouseEnter,s=e.onMouseLeave;return l.a.createElement("div",{ref:"elem",className:this.getClassName()},l.a.createElement("svg",{className:"Chart__svg",height:t,width:a},l.a.createElement("defs",null,this.renderClipPath()),l.a.createElement("g",{className:"Chart__wrapper",style:this.getWrapperStyle()},r),!i&&l.a.createElement("rect",{className:"Chart__listener",x:n.left,y:n.top,height:p(t,n),width:f(a,n),onMouseMove:o,onMouseLeave:s,onMouseEnter:c})))}}]),a}(s.Component);v.defaultProps=Object(n.a)({height:200,width:600,margin:{top:0,right:0,bottom:0,left:0},onMouseMove:h.a.noop,onMouseEnter:h.a.noop},"onMouseEnter",h.a.noop),t.a=v},622:function(e,t,a){},625:function(e,t,a){"use strict";var n=a(75),i=a(17),r=a(13),o=a(41),c=a(42),s=a(0),l=a.n(s),u=a(178),m=a.n(u),d=a(4);a(627);var h={x:"bottom",y:"left"},p={top:"axisTop",left:"axisLeft",right:"axisRight",bottom:"axisBottom"},f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).elem=l.a.createRef(),n.state={axis:null},n}return Object(r.a)(a,[{key:"getStyle",value:function(){var e=this.props,t=e.height,a=e.width,n=e.margin,i=e.dimension,r="x"==i?0:n.left?1:a,o="x"==i?t-n.top-n.bottom:0;return{transform:"translate3d(".concat(r,"px, ").concat(o,"px, 0)")}}},{key:"getOrientation",value:function(){var e=this.props;e.dimension;return e.orientation||h[this.props.dimension]||"left"}},{key:"update",value:function(e){var t=e||this.props,a=t.scale,n=(t.label,t.tickSize),i=t.tickSizeInner,r=t.tickSizeOuter,o=t.ticks,c=t.tickFrequency,s=t.tickPadding,l=t.tickArguments,u=t.format,m=t.initTransition,h=t.transition,f=this.state.axis;if(a){var v=!f;v&&(f=d[p[this.getOrientation()]]()),f.scale(a).tickSize(n).tickSizeInner(i).tickSizeOuter(r),l&&f.tickArguments(l),u&&f.tickFormat(u),o&&f.ticks(o,c),s&&f.tickPadding(s),d.select(this.elem.current).transition().duration(v?m:h).call(f),this.setState({axis:f})}}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentWillReceiveProps",value:function(e){this.update(e)}},{key:"renderLabel",value:function(){var e=this.props,t=e.dimension,a=e.label,n=e.width,i=e.hasInlineLabel,r="x"==t&&n-100||0,o="x"==t?-10:i?6:20,c={transform:"rotate(".concat("x"==t||i?0:-90,"deg)")};return l.a.createElement("text",{className:"Axis__label Axis--".concat(t?"".concat(t,"__"):"","label"),style:c,x:r,y:o},a)}},{key:"getClassName",value:function(){var e,t=this.props,a=t.dimension,i=t.hasInlineLabel,r=t.className;return m()("Axis",(e={},Object(n.a)(e,"Axis--".concat(a),a),Object(n.a)(e,"Axis--has-inline-label",i),e),r)}},{key:"render",value:function(){var e=this.props.label;return l.a.createElement("g",{ref:this.elem,className:this.getClassName(),style:this.getStyle()},!!e&&this.renderLabel())}}]),a}(s.Component);f.defaultProps={margin:{top:0,right:0,bottom:0,left:0},ticks:6,tickSize:0,tickSizeInner:6,tickSizeOuter:0,initTransition:300,transition:300},t.a=f},627:function(e,t,a){},633:function(e,t,a){"use strict";var n=a(17),i=a(13),r=a(41),o=a(42),c=a(0),s=a.n(c),l=a(178),u=a.n(l),m=a(16),d=a.n(m),h=a(4);a(639);var p=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).elem=s.a.createRef(),i.update=function(){var e=i.props,t=e.data,a=e.radius,n=e.xAccessor,r=e.yAccessor,o=e.dataKey,c=e.initTransition,s=e.transition,l=e.easing,u=e.onUpdate,m=i.state.dots,d=!m,p=(m=h.select(i.elem.current).selectAll(".dot").data(t||[],o)).enter().append("circle").attr("class","dot");m=p.merge(m),d&&m.attr("r",0).attr("cx",n).attr("cy",r),m.transition().duration(d?c:s).ease(l).attr("r",a).attr("cx",n).attr("cy",r),m.exit().remove(),m.on("mouseenter",function(e){return console.log(e)}),i.setState({dots:m}),u(m)},i.state={dots:null},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(e){this.props.iterator!=e.iterator&&this.update()}},{key:"getClassName",value:function(){return u()("Scatter",this.props.className)}},{key:"render",value:function(){return s.a.createElement("g",{ref:this.elem,className:this.getClassName()})}}]),a}(c.Component);p.defaultProps={radius:8,initTransition:1300,transition:300,easing:h.easeLinear,onUpdate:d.a.noop},t.a=p},639:function(e,t,a){}}]);
//# sourceMappingURL=42.6484233c.chunk.js.map