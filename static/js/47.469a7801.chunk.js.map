{"version":3,"sources":["components/Articles/ReactRepo/ReactRepo.jsx","components/_ui/Button/ButtonGroup/ButtonGroup.jsx","components/_ui/Toggle/Toggle.jsx"],"names":["flattenArray","item","flatMapDeep","children","allNodes","data","formatDate","d3","sizeScale","domain","range","clamp","colors","fileTypeColorsMap","fromPairs","Object","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","map","type","i","colorScaleSize","colorScaleNumOfEdits","d","num_of_edits","parseDate","colorScaleLastEdit","colorAccessorMap","size","numOfEdits","lastEdit","Date","last_edit","lastEditAccessor","colorMetricOptions","keys","metric","id","label","zoomOptions","ReactRepo","_useState","useState","_useState2","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","hoveringNode","setHoveringNode","isClearingHover","useRef","_useState3","_useState4","radius","setRadius","_useState5","_useState6","colorMetric","setColorMetric","_useMemo","useMemo","tree","Math","PI","separation","a","b","parent","depth","positions","_ref","x","y","links","link","angle","onUpdateHover","useCallback","node","arguments","length","undefined","current","onClearHover","setTimeout","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","className","components_ui_Toggle_Toggle__WEBPACK_IMPORTED_MODULE_9__","value","options","onChange","components_ui_Button_ButtonGroup_ButtonGroup__WEBPACK_IMPORTED_MODULE_8__","buttons","_ref2","viewBox","join","height","width","Folder","transform","concat","NodeLink","key","Node","assign","onMouseLeave","NodeTooltip","position","React","memo","_ref3","nodeProps","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","onMouseEnter","onClick","url","path","name","window","open","focus","Fragment","href","r","style","fill","_ref4","formatBytes","_ref5","rotatedPos","getPointFromAngleAndDistance","require","ButtonGroup","button","e","_this","props","classNames","this","Button--active","isActive","Button--inactive","_this2","react__WEBPACK_IMPORTED_MODULE_4___default","getClassName","idx","_Button__WEBPACK_IMPORTED_MODULE_6__","getButtonClassName","disabled","isDisabled","Component","Toggle","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","option","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_2___default","_Button_ButtonGroup_ButtonGroup__WEBPACK_IMPORTED_MODULE_5__"],"mappings":"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","file":"static/js/47.469a7801.chunk.js","sourcesContent":["import React, { useCallback, useMemo, useRef, useState } from \"react\"\nimport * as d3 from \"d3\"\nimport { flatMapDeep, fromPairs } from \"lodash\"\nimport data from \"./data.json\"\nimport { getPointFromAngleAndDistance } from 'utils/utils.js';\n\nimport ButtonGroup from \"components/_ui/Button/ButtonGroup/ButtonGroup\"\nimport Toggle from \"components/_ui/Toggle/Toggle\"\n\nimport './ReactRepo.scss';\n\nconst repoTreeBaseUrl = \"https://github.com/facebook/react/blob/master/\"\nconst flattenArray = item => [\n  item,\n  flatMapDeep(item.children, flattenArray)\n]\nconst allNodes = flatMapDeep(data.children, flattenArray);\n\nconst formatDate = d3.timeFormat(\"%-m/%-d/%Y\")\nconst sizeExtent = [3, 10000]\nconst sizeScale = d3.scaleSqrt()\n  .domain(sizeExtent)\n  .range([1, 16])\n  .clamp(true)\n\nconst colors = [\"#c7ecee\", \"#778beb\", \"#f7d794\", \"#63cdda\", \"#cf6a87\", \"#e77f67\", \"#786fa6\", \"#FDA7DF\", \"#4b7bec\", \"#778ca3\"];\nconst fileTypes = [\n  \"css\",\n  \"html\",\n  \"js\",\n  \"json\",\n  \"md\",\n  \"png\",\n  \"snap\",\n  \"svg\",\n  \"ico\",\n  \"ts\",\n  \"yml\",\n]\nconst fileTypeColorsMap = fromPairs([\n  ...fileTypes.map((type, i) => [\n    type,\n    colors[i]\n  ]),\n  // [\"folder\", \"#000\"]\n])\n\nconst colorScaleSize = d3.scaleLinear()\n  // .domain(d3.extent(allNodes, d => d.size))\n  .domain([3, 100000])\n  .range([\"#f2f2f7\", \"#5758BB\"])\nconst colorScaleNumOfEdits = d3.scaleLinear()\n  .domain(d3.extent(allNodes, d => d.num_of_edits))\n  .range([\"#f2f2f7\", \"#5758BB\"])\nconst lastEditAccessor = d => new Date(d.last_edit)\nconst parseDate = d3.timeParse(\"%m/%d/%Y\")\nconst colorScaleLastEdit = d3.scaleLinear()\n  // .domain(d3.extent(allNodes, lastEditAccessor))\n  .domain([parseDate(\"01/01/2018\"), parseDate(\"10/31/2019\")])\n  .range([\"#9980FA\", \"#F79F1F\"])\n\nconst colorAccessorMap = {\n  type: d => fileTypeColorsMap[d.type],\n  size: d => colorScaleSize(d.size),\n  numOfEdits: d => colorScaleNumOfEdits(d.num_of_edits),\n  lastEdit: d => colorScaleLastEdit(lastEditAccessor(d)),\n}\nconst colorMetricOptions = Object.keys(colorAccessorMap).map(metric => ({\n  id: metric,\n  label: metric,\n}))\nconst zoomOptions = [{\n  id: -300,\n  label: \"-\"\n},{\n  id: 300,\n  label: \"+\",\n}]\n\nconst ReactRepo = () => {\n  const [hoveringNode, setHoveringNode] = useState(null)\n  const isClearingHover = useRef()\n  const [radius, setRadius] = useState(900)\n  const [colorMetric, setColorMetric] = useState(\"type\")\n\n  const {\n    tree, links, positions\n  } = useMemo(() => {\n    const tree = d3.tree()\n      .size([2 * Math.PI, radius])\n      .separation((a, b) => (a.parent == b.parent ? 1 : 2) / a.depth)\n      (d3.hierarchy(data))\n\n    const allNodes = flatMapDeep({children: tree}, flattenArray)\n    const positions = fromPairs(\n      allNodes.map(({ x, y, data }) => [\n        data.id,\n        {x, y},\n      ])\n    )\n\n    const links = tree.links()\n      .map(link => (\n        d3.linkRadial()\n        .angle(d => d.x)\n        .radius(d => d.y)\n        (link)\n      ))\n\n    return {\n      tree, links, positions\n    }\n  }, [radius])\n\n  const onUpdateHover = useCallback((node=null) => {\n    isClearingHover.current = false\n    setHoveringNode(node)\n  }, [])\n  const onClearHover = useCallback(() => {\n    isClearingHover.current = true\n    setTimeout(() => {\n      if (!isClearingHover.current) return\n      setHoveringNode(null)\n      isClearingHover.current = false\n    }, 500)\n  }, [])\n  // console.log(\"tree\", tree)\n  // console.log(\"links\", links)\n\n  return (\n    <div className=\"ReactRepo\">\n      <h1>\n        React repository folder structure\n      </h1>\n      <div className=\"ReactRepo__actions\">\n        <div className=\"ReactRepo__actions__item\">\n            <h6>color scale</h6>\n            <Toggle\n              className=\"ReactRepo__toggle\"\n              value={colorMetric}\n              options={colorMetricOptions}\n              onChange={setColorMetric}\n            />\n          </div>\n\n          <div className=\"ReactRepo__actions__item\">\n            <h6>zoom</h6>\n            <ButtonGroup\n                buttons={zoomOptions}\n                onChange={({ id }) => setRadius(radius + id)}\n            />\n        </div>\n      </div>\n      <div className=\"ReactRepo__chart\">\n        <svg className=\"ReactRepo__svg\" viewBox={[\n          0, 0,\n          radius * 2,\n          radius * 2,\n        ].join(\" \")}\n        height={radius * 2}\n        width={radius * 2}\n      >\n          <defs>\n            <Folder />\n          </defs>\n          <g transform={`translate(${radius}, ${radius})`}>\n            {links && links.map((d, i) => (\n              <NodeLink\n                key={i}\n                d={d}\n              />\n            ))}\n            {tree && (\n              <Node\n                {...tree}\n                {...{onUpdateHover, colorMetric}}\n                onMouseLeave={onClearHover}\n              />\n            )}\n          </g>\n        </svg>\n\n        {hoveringNode && (\n          <NodeTooltip\n            {...hoveringNode}\n            position={positions[hoveringNode.data.id]}\n            {...{radius}}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default ReactRepo\n\n\nconst Node = React.memo(({ colorMetric, onUpdateHover, onMouseLeave, ...nodeProps }) => {\n  const { x, y, data, children } = nodeProps\n  const onMouseEnter = useCallback(() => {\n    onUpdateHover(nodeProps)\n  }, [])\n  const onClick = useCallback(() => {\n    const url = `${repoTreeBaseUrl}${data.path}/${data.name}`\n    const win = window.open(url, '_blank')\n    win.focus()\n  }, [])\n\n  return (\n    <>\n      <g\n        className=\"Node\"\n        transform={[\n          `rotate(${x * 180 / Math.PI - 90})`,\n          `translate(${y}, 0)`,\n        ].join(\" \")}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n        onClick={onClick}\n      >\n        {data.type == \"folder\" ? (\n          <use className=\"Node__folder\" href=\"#Folder\" />\n        ) : (\n          <circle\n            className=\"Node__circle\"\n            r={sizeScale(data.size)}\n            style={{\n              fill: colorAccessorMap[colorMetric](nodeProps.data)\n            }}\n          />\n        )}\n        {/* <text\n          className=\"Node__text\"\n          dy=\"0.31em\"\n          x={x < Math.PI == !children ? 6 : -6}\n          textAnchor={x < Math.PI == !children ? \"start\" : \"end\"}\n          style={{\n            transform: [\n              x >= Math.PI ? \"rotate(180deg)\" : \"\",\n              `translateX(${x < Math.PI == !children ? \"0.6em\" : \"-0.6em\"})`\n            ].join(\" \")\n          }}\n        >\n          { data.name }\n        </text> */}\n\n      </g>\n      {children && children.map(node => (\n        <Node\n          key={node.data.id}\n          {...node}\n          {...{colorMetric, onUpdateHover, onMouseLeave}}\n        />\n      ))}\n    </>\n  )\n})\n\n\nconst NodeLink = React.memo(({ d }) => (\n  <path\n    className=\"NodeLink\"\n    d={d}\n  />\n))\n\nconst Folder = () => (\n  <path className=\"Folder\" id=\"Folder\" d=\"M8.68182 1.9091C8.68182 1.5836 8.55252 1.27144 8.32236 1.04128C8.09221 0.811126 7.78004 0.681824 7.45455 0.681824L1.72728 0.681824C1.40178 0.681824 1.08962 0.811125 0.859465 1.04128C0.629306 1.27144 0.500005 1.5836 0.500005 1.9091L0.500005 8.45455C0.500005 8.78004 0.629306 9.09221 0.859464 9.32236C1.08962 9.55252 1.40178 9.68182 1.72728 9.68182L6.22728 9.68182C6.55277 9.68182 6.86493 9.55252 7.09509 9.32236C7.32525 9.09221 7.45455 8.78004 7.45455 8.45455L7.45455 4.99167L8.49966 4.29494C8.61346 4.21906 8.68182 4.09133 8.68182 3.95455L8.68182 1.9091Z\" />\n)\n\n\nconst formatBytes = d3.format(\",.1f\")\nconst NodeTooltip = ({ data, position, radius }) => {\n  const rotatedPos = getPointFromAngleAndDistance(position.x * 180 / Math.PI - 90, position.y)\n  return (\n    <div className=\"NodeTooltip\" style={{\n      transform: `translate(calc(${rotatedPos.x + radius}px - 50%), ${rotatedPos.y + radius}px)`\n    }}>\n      <div className=\"NodeTooltip__name\">\n        { data.name }\n      </div>\n      <div className=\"NodeTooltip__type\">\n        <span>type</span> <span>{ data.type }</span>\n      </div>\n      <div className=\"NodeTooltip__size\">\n        <span>size</span> <span>{ formatBytes(data.size / 1000) }KB</span>\n      </div>\n      {!!data.num_of_edits && (\n        <div className=\"NodeTooltip__size\">\n          <span>{ data.num_of_edits } edit{ data.num_of_edits != 1 && \"s\" }</span> <span>{ formatDate(new Date(data.last_edit)) }</span>\n        </div>\n      )}\n      <div className=\"NodeTooltip__repo\">\n        { data.path }\n      </div>\n      <div className=\"NodeTooltip__note\">\n        Click to see the file on Github\n      </div>\n    </div>\n  )\n}","import React, {Component} from \"react\"\nimport PropTypes from \"prop-types\"\nimport classNames from \"classnames\"\nimport Button from \"./../Button\"\n\nrequire('./ButtonGroup.scss')\n\nclass ButtonGroup extends Component {\n  static propTypes = {\n    buttons: PropTypes.array,\n    onChange: PropTypes.func\n  }\n\n  getClassName() {\n    return classNames(\n      \"ButtonGroup\", this.props.className\n    )\n  }\n\n  getButtonClassName(button) {\n    return classNames(button.className, {\n      \"Button--active\": button.isActive,\n      \"Button--inactive\": !button.isActive,\n    })\n  }\n\n  onChange = button => e => {\n    this.props.onChange(button, e)\n  }\n\n  render() {\n    let {buttons} = this.props\n\n    return (\n      <div className={this.getClassName()}>\n        {buttons.map((button, idx) =>\n          <Button type=\"button\"\n                  key={idx}\n                  className={this.getButtonClassName(button)}\n                  disabled={button.isDisabled}\n                  onClick={this.onChange(button)}>\n            {button.label || button}\n            {button.children}\n          </Button>\n        )}\n      </div>\n      )\n  }\n}\n\nexport default ButtonGroup\n","import React from 'react'\nimport _ from \"lodash\"\n\nimport './Toggle.scss'\nimport ButtonGroup from '../Button/ButtonGroup/ButtonGroup';\nimport Button from '../Button/Button';\n\nconst Toggle = ({ options, value, onChange, ...props }) => {\n    const onChangeLocal = button => onChange(button.id)\n\n    const buttons = options.map(option => ({\n        ...option,\n        isActive: option.id == value,\n    }))\n\n    return (\n        <ButtonGroup {...props}\n            buttons={buttons}\n            onChange={onChangeLocal}\n        />\n    )\n}\n\nexport default Toggle\n"],"sourceRoot":""}