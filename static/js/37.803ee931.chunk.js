(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1156:function(e,t,a){e.exports=a.p+"static/media/lady.c70469b2.jpg"},1157:function(e,t,a){e.exports=a.p+"static/media/lady-map.c28f9f62.jpg"},1158:function(e,t,a){e.exports=a.p+"static/media/mount.f9426562.jpg"},1159:function(e,t,a){e.exports=a.p+"static/media/mount-map.76f6b860.jpg"},1160:function(e,t,a){e.exports=a.p+"static/media/canyon.9e8b58c6.jpg"},1161:function(e,t,a){e.exports=a.p+"static/media/canyon-map.46719416.jpg"},1162:function(e,t,a){e.exports=a.p+"static/media/ball.bda31e39.jpg"},1163:function(e,t,a){e.exports=a.p+"static/media/ball-map.86abc128.jpg"},1164:function(e,t,a){},1307:function(e,t,a){"use strict";a.r(t);var n=a(34),i=a(6),o=a(0),r=a.n(o),s=a(1331),c=a(694),l=a(623),u=a(1156),m=a.n(u),p=a(1157),d=a.n(p),v=a(1158),f=a.n(v),h=a(1159),g=a.n(h),b=a(1160),x=a.n(b),j=a(1161),y=a.n(j),O=a(1162),C=a.n(O),E=a(1163),w=a.n(E),M=a(701);a(1164);t.default=function(){var e=Object(o.useState)([0,0]),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(o.useState)(0),c=Object(i.a)(s,2),l=c[0],u=c[1];return r.a.createElement("div",{className:"WebGLDemo"},r.a.createElement(M.a,{className:"WebGLDemo__toggles",value:l,options:B,onChange:u}),r.a.createElement("div",{className:"WebGLDemo__scene",onMouseMove:function(e){var t=e.clientX,a=e.clientY;n([t/window.innerWidth,a/window.innerHeight])}},r.a.createElement(N,{mouse:a,selectedOption:l}),r.a.createElement("div",{className:"WebGLDemo__overlay"},B[l].text)))};var N=function(e){var t=e.mouse,a=e.selectedOption,i=Object(n.a)(e,["mouse","selectedOption"]);return r.a.createElement(s.a,i,r.a.createElement(k,{mouse:t,selectedOption:a}))},T=[8,8],_=[1,781/1173,1],k=function(e){var t=e.mouse,a=e.selectedOption,n=Object(s.g)().invalidate,i=Object(c.c)({dispX:t[0],dispY:t[1]}),u=i.dispX,m=i.dispY,p=Object(o.useMemo)(function(){var e=new l.TextureLoader,t=B[a];return[{uniforms:{texture:{type:"t",value:e.load(t.image,n)},map:{type:"t",value:e.load(t.imageMap,n)},threshold:{type:"2f",value:[t.horizontalThreshold,t.verticalThreshold]},dispX:{type:"f",value:0},dispY:{type:"f",value:0}},vertexShader:D,fragmentShader:L}]},[a,n]);return r.a.createElement("mesh",{scale:_},r.a.createElement("planeBufferGeometry",{attach:"geometry",args:T}),r.a.createElement(c.a.shaderMaterial,{attach:"material",args:p,"uniforms-dispX-value":u,"uniforms-dispY-value":m}))},D="\n    varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n    }\n  ",L="\n  #ifdef GL_ES\n  precision mediump float;\n  #endif\n\n  varying vec2 vUv;\n  uniform vec2 threshold;\n  uniform sampler2D texture;\n  uniform sampler2D map;\n  uniform float dispX;\n  uniform float dispY;\n  uniform float _rot;\n\n  vec2 mirrored(vec2 v) {\n    vec2 m = mod(v, 2.);\n    return mix(m, 2.0 - m, step(1.0, m));\n  }\n  void main() {\n    vec4 tex1 = texture2D(map, mirrored(vUv));\n    vec2 fake3d = vec2(vUv.x + (tex1.r - 0.5) * dispX / threshold.x, vUv.y + (tex1.r - 0.5) * dispY / threshold.y);\n    gl_FragColor = texture2D(texture, mirrored(fake3d));\n  }\n",B=[{id:0,label:"Lady",image:m.a,imageMap:d.a,horizontalThreshold:35,verticalThreshold:15,text:"QO"},{id:1,label:"Mountain",image:f.a,imageMap:g.a,horizontalThreshold:15,verticalThreshold:25,text:"W"},{id:2,label:"Canyon",image:x.a,imageMap:y.a,horizontalThreshold:35,verticalThreshold:25,text:"S"},{id:3,label:"Ball",image:C.a,imageMap:w.a,horizontalThreshold:15,verticalThreshold:25,text:"BALL"}]},670:function(e,t,a){"use strict";var n=a(17),i=a(13),o=a(41),r=a(42),s=a(0),c=a.n(s),l=a(216),u=a.n(l),m=a(95);a(683);var p=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).onChange=function(t){return function(a){e.props.onChange(t,a)}},e}return Object(i.a)(a,[{key:"getClassName",value:function(){return u()("ButtonGroup",this.props.className)}},{key:"getButtonClassName",value:function(e){return u()(e.className,{"Button--active":e.isActive,"Button--inactive":!e.isActive})}},{key:"render",value:function(){var e=this,t=this.props.buttons;return c.a.createElement("div",{className:this.getClassName()},t.map(function(t,a){return c.a.createElement(m.a,{type:"button",key:a,className:e.getButtonClassName(t),disabled:t.isDisabled,onClick:e.onChange(t)},t.label||t,t.children)}))}}]),a}(s.Component);t.a=p},683:function(e,t,a){},701:function(e,t,a){"use strict";var n=a(55),i=a(34),o=a(0),r=a.n(o),s=(a(16),a(702),a(670));a(95);t.a=function(e){var t=e.options,a=e.value,o=e.onChange,c=Object(i.a)(e,["options","value","onChange"]),l=t.map(function(e){return Object(n.a)(Object(n.a)({},e),{},{isActive:e.id==a})});return r.a.createElement(s.a,Object.assign({},c,{buttons:l,onChange:function(e){return o(e.id)}}))}},702:function(e,t,a){}}]);
//# sourceMappingURL=37.803ee931.chunk.js.map