{"version":3,"sources":["components/Articles/DogBreeds/DogBreeds.jsx","components/_ui/Chart/Chart.jsx","components/_ui/Chart/Axis/Axis.jsx","components/_ui/RadioGroup/RadioGroup.jsx","../node_modules/react-select/dist/react-select.browser.esm.js","components/_ui/Chart/utils/scale.js","components/_ui/Chart/Line/Line.jsx"],"names":["dataByBreed","_","fromPairs","map","data","d","breed","margin","top","right","bottom","left","formatXAxis","i","formatNumberShort","numeral","format","ordinalColors","breeds","breedGroups","length","uniqBy","breedGroupColors","group","breedGroupOptions","value","label","color","breedOptions","selectStyles","d3","range","domain","option","styles","_ref","isDisabled","isFocused","isSelected","Object","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_6__","backgroundColor","concat","multiValue","_ref2","multiValueLabel","_ref3","multiValueRemove","_ref4",":hover","DogBreeds","props","_this","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","_super","call","chart","React","createRef","createScales","_this$state","state","selectedBreeds","selectedGroups","width","window","innerWidth","xScale","createScale","dimension","counts","selectedBreedValues","selectedGroupValues","filteredData","filter","isEmpty","includes","maxCount","max","flatMap","yScale","height","iteration","setState","xAccessor","yAccessor","onMouseMove","clientX","clientY","current","_this$state2","isHoveringChart","mouseX","getBoundingClientRect","yearIndex","Math","round","invert","year","mouseY","mouseYVal","parsedBreeds","distanceFromY","absDistanceFromY","abs","orderedBreeds","orderBy","index","breedsByYCloseness","breedsByYAbsCloseness","closestBreed","get","closestBreedIndex","findIndex","closestBreedIndexCenter","min","closestBreeds","slice","x","tooltipInfo","y","boundedX","throttledOnMouseMove","throttle","persistedOnMouseMove","e","onMouseEnter","clearTooltip","onBreedsSelect","onSelectedGroupsChange","groups","classNames","className","_this2","_this$state3","highlightedBreeds","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","identity","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","getClassName","react_select__WEBPACK_IMPORTED_MODULE_9__","placeholder","isMulti","name","options","classNamePrefix","onChange","components_ui_RadioGroup_RadioGroup__WEBPACK_IMPORTED_MODULE_20__","canClear","ref","components_ui_Chart_Chart__WEBPACK_IMPORTED_MODULE_16__","onMouseLeave","components_ui_Chart_Line_Line__WEBPACK_IMPORTED_MODULE_18__","key","style","stroke","strokeWidth","iterator","opacity","transition","components_ui_Chart_Axis_Axis__WEBPACK_IMPORTED_MODULE_19__","scale","DogBreedsTooltip","assign","transform","Component","_ref5","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","isObject","background","require","getHeight","arguments","undefined","getWidth","Chart","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","setSize","_isMounted","_this$props","isLoaded","translate","WebkitTransform","_setSize","addEventListener","setTimeout","removeEventListener","react__WEBPACK_IMPORTED_MODULE_5___default","id","_this$props2","hasNoListener","children","line","area","bar","xAxis","yAxis","brush","hasTooltip","renderClipPath","getWrapperStyle","defaultProps","noop","orientations","axesMap","Axis","elem","axis","orientation","tickSize","tickSizeInner","tickSizeOuter","ticks","tickFrequency","tickPadding","tickArguments","initTransition","init","getOrientation","tickFormat","duration","update","newProps","_this$props3","hasInlineLabel","_classNames","_this$props4","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","getStyle","renderLabel","getOptionValue","areSameValue","b","RadioGroup","newValue","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","renderOption","idx","RadioGroup__option--selected","onClick","renderClear","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","memoize_one__WEBPACK_IMPORTED_MODULE_1__","_emotion_core__WEBPACK_IMPORTED_MODULE_2__","_Select_9fdb8cd0_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__","_stateManager_04f734a2_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__","_emotion_cache__WEBPACK_IMPORTED_MODULE_9__","__webpack_exports__","scaleTypes","linear","ordinal","time","log","providedConfig","config","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","type","clamp","Line","y0Accessor","defined","interpolation","lineObj","curve","y0","y1","prevProps"],"mappings":"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","file":"static/js/35.ff12a7d7.chunk.js","sourcesContent":["import React, {Component} from \"react\"\nimport PropTypes from \"prop-types\"\nimport numeral from \"numeral\"\nimport ReactSelect from 'react-select';\nimport Select from 'react-select';\nimport domToImage from \"dom-to-image\"\nimport * as d3 from \"d3\"\nimport classNames from \"classnames\"\nimport _ from \"lodash\"\nimport Tooltip from \"components/_ui/Tooltip/Tooltip\"\nimport Button from \"components/_ui/Button/Button\"\nimport Chart from 'components/_ui/Chart/Chart';\nimport { createScale } from 'components/_ui/Chart/utils/scale';\nimport Line from 'components/_ui/Chart/Line/Line';\nimport Axis from 'components/_ui/Chart/Axis/Axis';\nimport RadioGroup from 'components/_ui/RadioGroup/RadioGroup';\n\nimport data from \"./breeds.json\"\n\nimport './DogBreeds.scss'\n\n// console.log(data)\nconst dataByBreed = _.fromPairs(_.map(data, d => [\n  d.breed,\n  d,\n]))\n\nconst margin = {\n  top: 2,\n  right: 0,\n  bottom: 30,\n  left: 50,\n}\nconst formatXAxis = (d, i) => d + 1926\nconst formatSalary = d => numeral(d).format(\"$0,0\")\nconst formatNumber = d => numeral(d).format(\"0,0\")\nconst formatNumberShort = d => numeral(d).format(\"0,0a\")\nconst ordinalColors = [\"#778beb\", \"#63cdda\", \"#cf6a87\", \"#e77f67\", \"#786fa6\", \"#FDA7DF\", \"#4b7bec\", \"#778ca3\"];\nconst breeds = _.map(data, \"breed\")\nconst breedColors = _.fromPairs(\n  _.map(breeds, (breed, i) => [\n    breed,\n    ordinalColors[i % ordinalColors.length],\n  ])\n)\nconst breedGroups = _.uniqBy(_.map(data, \"group\"))\nconst breedGroupColors = _.fromPairs(\n  _.map(breedGroups, (group, i) => [\n    group,\n    ordinalColors[i % ordinalColors.length],\n  ])\n  )\nconst breedGroupOptions = _.map(breedGroups, group => ({ value: group, label: group, color: breedGroupColors[group] }))\n\nconst breedOptions = _.map(breeds, breed => ({ value: breed, label: breed, color: breedGroupColors[dataByBreed[breed].group] }))\nconst colorScale = d3.scaleLinear().range([\"#c7ecee\", \"#686de0\"]).domain([0, 1])\nconst selectStyles = {\n  option: (styles, { data, isDisabled, isFocused, isSelected }) => {\n    return {\n      ...styles,\n      backgroundColor: isDisabled\n        ? null\n        : isSelected ? data.color : isFocused ? `${data.color}22` : null,\n      color: isDisabled\n        ? '#ccc'\n        : isSelected\n          ? \"white\"\n          : data.color,\n    };\n  },\n  multiValue: (styles, { data }) => {\n    return {\n      ...styles,\n      backgroundColor: `${data.color}22`,\n    };\n  },\n  multiValueLabel: (styles, { data }) => ({\n    ...styles,\n    color: data.color,\n  }),\n  multiValueRemove: (styles, { data }) => ({\n    ...styles,\n    color: data.color,\n    ':hover': {\n      backgroundColor: data.color,\n      color: 'white',\n    },\n  })\n}\nclass DogBreeds extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      height: 0,\n      width: 0,\n      xScale: null,\n      yScale: null,\n      filteredData: [],\n      tooltipInfo: null,\n      closestBreed: null,\n      selectedBreeds: [],\n      selectedGroups: [],\n      iteration: 0,\n    }\n  }\n\n  getClassName() {\n    return classNames(\"DogBreeds\", this.props.className)\n  }\n\n  componentDidMount() {\n    this.createScales()\n  }\n\n  chart = React.createRef()\n\n  createScales = () => {\n    const { selectedBreeds, selectedGroups } = this.state\n\n    const height = 500\n    const width = window.innerWidth * 0.95\n    const xScale = createScale({\n      // type: \"time\",\n      width,\n      margin,\n      dimension: \"x\",\n      domain: [0, data[0].counts.length],\n    })\n    const selectedBreedValues = _.map(selectedBreeds, \"value\")\n    const selectedGroupValues = _.map(selectedGroups, \"value\")\n    const filteredData = _.filter(data, d => (\n      (_.isEmpty(selectedBreeds) || _.includes(selectedBreedValues, d.breed)) &&\n      (_.isEmpty(selectedGroups) || _.includes(selectedGroupValues, d.group))\n    ))\n\n    const maxCount = _.max(_.flatMap(filteredData, \"counts\"))\n    const yScale = createScale({\n      height,\n      margin,\n      dimension: \"y\",\n      domain: [0, maxCount],\n    })\n    const iteration = this.state.iteration + 1\n    this.setState({ height, width, xScale, yScale, filteredData, iteration })\n  }\n\n  xAccessor = (d,i) => this.state.xScale && this.state.xScale(i)\n  yAccessor = d => this.state.yScale && this.state.yScale(+d)\n\n  onMouseMove = (clientX, clientY) => {\n    if (!this.chart || !this.chart.current) return\n    const { width, xScale, yScale, filteredData } = this.state\n    if (!this.isHoveringChart) return\n\n    const mouseX = clientX - this.chart.current.getBoundingClientRect().left - margin.left\n    const yearIndex = Math.round(xScale.invert(mouseX))\n    const year = yearIndex + 1926\n\n    const mouseY = clientY - this.chart.current.getBoundingClientRect().top - margin.top\n    const mouseYVal = yScale.invert(mouseY)\n\n    const parsedBreeds = _.map(filteredData, breed => ({\n      ...breed,\n      breed: breed.breed,\n      value: +breed.counts[yearIndex],\n      distanceFromY: mouseYVal - breed.counts[yearIndex],\n      absDistanceFromY: Math.abs(mouseYVal - breed.counts[yearIndex]),\n    }))\n    const orderedBreeds = _.map(_.orderBy(parsedBreeds, \"value\", \"desc\"), (d, i) => ({...d, index: i + 1}))\n    const breedsByYCloseness = _.orderBy(orderedBreeds, \"distanceFromY\", \"asc\")\n    const breedsByYAbsCloseness = _.orderBy(orderedBreeds, \"absDistanceFromY\", \"asc\")\n    const closestBreed = _.get(breedsByYAbsCloseness, [0, \"breed\"])\n    const closestBreedIndex = _.findIndex(breedsByYCloseness, {breed: closestBreed})\n    const neighborsOnEachSide = 3\n    const closestBreedIndexCenter = Math.max(Math.min(closestBreedIndex, breedsByYCloseness.length - neighborsOnEachSide), neighborsOnEachSide)\n    const closestBreeds = _.map(\n      breedsByYCloseness.slice(closestBreedIndexCenter - neighborsOnEachSide, closestBreedIndexCenter + neighborsOnEachSide),\n      (breed, i) => ({...breed, isSelected: closestBreedIndexCenter + i - neighborsOnEachSide == closestBreedIndex }),\n    )\n    const x = xScale(yearIndex)\n    const boundedX = Math.max(Math.min(width - 200, x), 0)\n\n    const tooltipInfo = {\n      breeds: closestBreeds,\n      year,\n      y: mouseY,\n      x,\n      boundedX,\n    }\n\n    this.setState({ tooltipInfo, closestBreed })\n  }\n  throttledOnMouseMove = _.throttle(this.onMouseMove, 90)\n  persistedOnMouseMove = e => this.throttledOnMouseMove(e.clientX, e.clientY)\n\n  onMouseEnter = () => this.isHoveringChart = true;\n  clearTooltip = () => {\n    this.isHoveringChart = false;\n    this.setState({ tooltipInfo: null, closestBreed: null })\n  }\n  onBreedsSelect = breeds => this.setState({ selectedBreeds: breeds }, this.createScales)\n  onSelectedGroupsChange = groups => this.setState({ selectedGroups: groups || [] }, this.createScales)\n\n  render() {\n    const { height, width, xScale, yScale, tooltipInfo, closestBreed, selectedBreeds, selectedGroups, filteredData, iteration } = this.state\n    const selectedBreedValues = _.map(selectedBreeds, \"value\")\n    const highlightedBreeds = _.uniqBy(_.filter([closestBreed, ...selectedBreedValues]), _.identity)\n\n    return (\n      <div className={this.getClassName()}>\n        <div className=\"DogBreeds__title-container\">\n          <h2 className=\"DogBreeds__title\">\n            Dog breed popularity\n          </h2>\n        </div>\n        <div className=\"DogBreeds__contents\">\n          <div className=\"DogBreeds__controls\">\n            <Select\n              placeholder=\"Explore specific breeds\"\n              isMulti\n              name=\"breeds\"\n              options={breedOptions}\n              value={selectedBreeds}\n              className=\"DogBreeds__select\"\n              classNamePrefix=\"DogBreeds__select\"\n              styles={selectStyles}\n              onChange={this.onBreedsSelect}\n\n            />\n\n            <RadioGroup\n              className=\"DogBreeds__toggle\"\n              options={breedGroupOptions}\n              value={selectedGroups}\n              onChange={this.onSelectedGroupsChange}\n              isMulti\n              canClear\n            />\n          </div>\n          <div className={`DogBreeds__chart DogBreeds__chart--has-${selectedBreedValues.length ? \"selected-breeds\" : \"no-selected-breeds\"}`} ref={this.chart}>\n            <Chart\n              width={width}\n              height={height}\n              margin={margin}\n              onMouseMove={this.persistedOnMouseMove}\n              onMouseEnter={this.onMouseEnter}\n              onMouseLeave={this.clearTooltip}>\n              {_.map(filteredData, breed => (\n                <Line\n                  key={breed.breed}\n                  data={breed.counts}\n                  xAccessor={this.xAccessor}\n                  yAccessor={this.yAccessor}\n                  style={{\n                    stroke: breedGroupColors[breed.group],\n                    strokeWidth: 1.6,\n                  }}\n                  iterator={iteration}\n                />\n              ))}\n              {highlightedBreeds.map(breed => (\n                <Line\n                  key={breed}\n                  data={dataByBreed[breed].counts}\n                  xAccessor={this.xAccessor}\n                  yAccessor={this.yAccessor}\n                  style={{\n                    stroke: breedGroupColors[dataByBreed[breed].group],\n                    strokeWidth: 4,\n                    opacity: 1,\n                    transition: \"none\",\n                  }}\n                  iterator={iteration}\n                />\n              ))}\n\n              <Axis\n                dimension=\"x\"\n                height={height}\n                width={width}\n                margin={margin}\n                scale={xScale}\n                format={formatXAxis}\n              />\n              <Axis\n                dimension=\"y\"\n                height={height}\n                margin={margin}\n                scale={yScale}\n                format={formatNumberShort}\n              />\n\n              {tooltipInfo && (\n                <rect\n                  className=\"DogBreeds__crosshair\"\n                  x={tooltipInfo.x}\n                  y={margin.top}\n                  width={1}\n                  height={height - margin.top - margin.bottom}\n                />\n              )}\n            </Chart>\n\n            {tooltipInfo && (\n              <DogBreedsTooltip\n                style={{transform: `translate3d(calc(-50% + ${tooltipInfo.boundedX}px), calc(-100% + ${tooltipInfo.y}px), 0)`}}\n                {...tooltipInfo}\n              />\n            )}\n          </div>\n        </div>\n    </div>\n    )\n  }\n}\n\nexport default DogBreeds\n\n\nconst DogBreedsTooltip = ({ breeds, year, x, boundedX, y, ...props }) => (\n  <div className=\"DogBreedsTooltip\" {...props}>\n    <h6 className=\"DogBreedsTooltip__header\">{ year }</h6>\n    <div className=\"DogBreedsTooltip__breeds\">\n      {_.map(breeds, breed => _.isObject(breed) && (\n        <div className={`DogBreedsTooltip__breed DogBreedsTooltip__breed--is-${breed.isSelected ? \"selected\" : \"not-selected\"}`} key={breed.breed}>\n          <div className=\"DogBreedsTooltip__breed-color\" style={{background: breedGroupColors[breed.group]}} />\n          <div className=\"DogBreedsTooltip__breed__index\">\n            { breed.index }.\n          </div>\n          <div className=\"DogBreedsTooltip__breed__label\">\n            { breed.breed }\n          </div>\n          <div className=\"DogBreedsTooltip__breed__value\">\n            { formatNumber(breed.value) }\n          </div>\n        </div>\n      ))}\n    </div>\n  </div>\n)","import React, {Component} from \"react\"\nimport PropTypes from \"prop-types\"\nimport classNames from \"classnames\"\nimport numeral from \"numeral\"\nimport _ from \"lodash\"\nimport * as d3 from \"d3\"\n\nrequire('./Chart.scss')\n\nexport const getHeight = (height, margin={top: 0, bottom: 0}) => Math.max(height - margin.top - margin.bottom, 0)\nexport const getWidth = (width, margin={left: 0, right: 0}) => Math.max(width - margin.left - margin.right, 0)\n\nclass Chart extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      height: this.props.height,\n      width: this.props.width,\n      isLoaded: false,\n    }\n  }\n\n  static propTypes = {\n    height: PropTypes.number,\n    width: PropTypes.number,\n    margin: PropTypes.shape({\n      top: PropTypes.number,\n      right: PropTypes.number,\n      bottom: PropTypes.number,\n      left: PropTypes.number,\n    }),\n    hasNoListener: PropTypes.bool,\n    onMouseMove: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n  };\n\n  static defaultProps = {\n    height: 200,\n    width: 600,\n    margin: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n    },\n    onMouseMove: _.noop,\n    onMouseEnter: _.noop,\n    onMouseEnter: _.noop,\n};\n\n  getClassName() {\n    return classNames(\"Chart\", this.props.className)\n  }\n\n  getWrapperStyle() {\n    let {margin} = this.props\n    let translate = `translate3d(${margin.left}px, ${margin.top}px, 0)`\n    return {\n      transform: translate,\n      WebkitTransform: translate\n    }\n  }\n\n  setSize = () => {\n    if (!this._isMounted) return\n    let {height, width, margin} = this.props\n    this.setState({height: getHeight(height, margin)})\n    this.setState({width: getWidth(width, margin)})\n  }\n\n  componentWillMount() {\n    this.setSize()\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n    this._setSize = this.setSize\n    window.addEventListener(\"resize\", this._setSize)\n    setTimeout(() => {\n      this.setState({isLoaded: true})\n    })\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n    window.removeEventListener(\"resize\", this._setSize)\n  }\n\n  renderClipPath() {\n    let {height, width} = this.state\n    let {margin} = this.props\n\n    return <clipPath id=\"chartPath-clip\">\n      <rect className=\"Chart__clip-path\"\n        x={margin.left}\n        y={margin.top}\n        height={height}\n        width={width}\n      />\n    </clipPath>\n  }\n\n\n  render() {\n    const {height, width, margin, hasNoListener, children, line, area, bar, xAxis, yAxis, brush, hasTooltip, onMouseMove, onMouseEnter, onMouseLeave} = this.props\n\n    return (\n      <div ref=\"elem\" className={this.getClassName()}>\n        <svg className=\"Chart__svg\" height={height} width={width}>\n          <defs>\n            {this.renderClipPath()}\n          </defs>\n          <g className=\"Chart__wrapper\" style={this.getWrapperStyle()}>\n            {children}\n          </g>\n          {!hasNoListener && (\n            <rect\n              className=\"Chart__listener\"\n              x={margin.left}\n              y={margin.top}\n              height={getHeight(height, margin)}\n              width={getWidth(width, margin)}\n              onMouseMove={onMouseMove}\n              onMouseLeave={onMouseLeave}\n              onMouseEnter={onMouseEnter}\n            />\n          )}\n        </svg>\n      </div>\n    )\n  }\n}\n\nexport default Chart\n","import React, {Component} from \"react\"\nimport PropTypes from \"prop-types\"\nimport classNames from \"classnames\"\nimport * as d3 from \"d3\"\n\nrequire('./Axis.scss')\nconst orientations = {\n  x: \"bottom\",\n  y: \"left\"\n}\nconst axesMap = {\n  top: \"axisTop\",\n  left: \"axisLeft\",\n  right: \"axisRight\",\n  bottom: \"axisBottom\",\n}\n\nclass Axis extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      axis: null\n    }\n  }\n\n  static propTypes = {\n    width: PropTypes.number,\n    height: PropTypes.number,\n    scale: PropTypes.func,\n    margin: PropTypes.shape({\n      top: PropTypes.number,\n      right: PropTypes.number,\n      bottom: PropTypes.number,\n      left: PropTypes.number,\n    }),\n    dimension: PropTypes.oneOf([\"x\", \"y\"]),\n    orientation: PropTypes.oneOf([\"left\", \"right\", \"top\", \"bottom\"]),\n    ticks: PropTypes.number,\n    tickSize: PropTypes.number,\n    tickSizeInner: PropTypes.number,\n    tickSizeOuter: PropTypes.number,\n    tickFrequency: PropTypes.number,\n    tickArguments: PropTypes.array,\n    format: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.number,\n    ]),\n    initTransition: PropTypes.number,\n    transition: PropTypes.number,\n    label: PropTypes.string,\n    hasInlineLabel: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    margin: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n    },\n    ticks: 6,\n    tickSize: 0,\n    tickSizeInner: 6,\n    tickSizeOuter: 0,\n    initTransition: 300,\n    transition: 300\n  };\n  elem = React.createRef()\n\n  getStyle() {\n    const {height, width, margin, dimension} = this.props\n    const x = dimension == \"x\"      ? 0 :\n              margin.left           ? 1 :\n                                      width\n    const y = dimension == \"x\" ? height - margin.top - margin.bottom : 0\n\n    return {\n      transform: `translate3d(${x}px, ${y}px, 0)`\n    }\n  }\n\n  getOrientation() {\n    let {dimension, orientation} = this.props\n    return orientation || orientations[this.props.dimension] || \"left\"\n  }\n\n  update(props) {\n    let {scale, label, tickSize, tickSizeInner, tickSizeOuter, ticks, tickFrequency, tickPadding, tickArguments, format, initTransition, transition} = (props || this.props)\n    let {axis} = this.state\n    if (!scale) return\n\n    let init = !axis\n    if (init) axis = d3[axesMap[this.getOrientation()]]()\n\n    axis.scale(scale)\n        .tickSize(tickSize)\n        .tickSizeInner(tickSizeInner)\n        .tickSizeOuter(tickSizeOuter)\n\n    if (tickArguments) axis.tickArguments(tickArguments)\n    if (format) axis.tickFormat(format)\n    if (ticks) axis.ticks(ticks, tickFrequency)\n    if (tickPadding) axis.tickPadding(tickPadding)\n\n    d3.select(this.elem.current)\n      .transition().duration(init ? initTransition : transition)\n      .call(axis)\n\n    this.setState({axis})\n  }\n\n  componentDidMount() {\n    this.update()\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.update(newProps)\n  }\n\n  renderLabel() {\n    let {dimension, label, width, hasInlineLabel} = this.props\n    let x =      dimension == \"x\" ? width - 100 || 0 : 0\n    let y =      dimension == \"x\" ? -10 :\n      hasInlineLabel ? 6 : 20\n    let rotate = dimension == \"x\" || hasInlineLabel ? 0 : -90\n\n    let style = {\n      transform: `rotate(${rotate}deg)`,\n    }\n    return <text\n      className={`Axis__label Axis--${dimension ? `${dimension}__` : ''}label`}\n      style={style}\n      x={x}\n      y={y}>\n      {label}\n    </text>\n  }\n\n  getClassName() {\n    let {dimension, hasInlineLabel, className} = this.props\n\n    return classNames(\n      \"Axis\", {\n        [`Axis--${dimension}`]: dimension,\n        [`Axis--has-inline-label`]: hasInlineLabel,\n      },\n      className\n    )\n  }\n\n  render() {\n    let {label} = this.props\n\n    return (\n      <g ref={this.elem} className={this.getClassName()} style={this.getStyle()}>\n        {!!label && this.renderLabel()}\n      </g>\n    )\n  }\n}\n\nexport default Axis\n","import React, {Component} from \"react\"\nimport PropTypes from \"prop-types\"\nimport classNames from \"classnames\"\nimport _ from \"lodash\"\nimport {isObject} from \"lodash\"\n\nrequire('./RadioGroup.scss')\n\nconst getOptionValue = option => _.isObject(option) ? option.value : option\nconst areSameValue = (a, b) => getOptionValue(a) == getOptionValue(b)\nclass RadioGroup extends Component {\n  static propTypes = {\n    options: PropTypes.array,\n    value: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.object\n    ]),\n    isMulti: PropTypes.bool,\n    canClear: PropTypes.bool,\n    onChange: PropTypes.func,\n  };\n\n  static defaultProps = {\n    options: [],\n    isMulti: false,\n    canClear: false,\n    onChange: _.noop,\n  };\n\n  getClassName() {\n    return classNames(\n      \"RadioGroup\", this.props.className\n    )\n  }\n\n  onChange = option => () => {\n    const { value, isMulti } = this.props\n    const newValue = isMulti ?\n        !option ? [] :\n        value.map(getOptionValue).includes(getOptionValue(option)) ? _.filter(value, d => !areSameValue(option, d)) :\n          [...value, option]  :\n        !option || areSameValue(value, option) ?\n          null :\n        option\n    this.props.onChange(newValue)\n  }\n\n  renderOption = (option, idx) => {\n    const {value, isMulti} = this.props\n\n    const className = classNames(\n      \"RadioGroup__option\", {\n        \"RadioGroup__option--selected\": isMulti ?\n          value.map(getOptionValue).includes(getOptionValue(option)) :\n          areSameValue(option, value)\n      }\n    )\n    return <div className={className} style={{\n      color: option.color,\n    }} onClick={this.onChange(option)} key={idx}>\n      {_.isObject(option) && option.label ? option.label : getOptionValue(option)}\n    </div>\n  }\n\n  renderClear = () => {\n    return (\n      <div className=\"RadioGroup__option RadioGroup__clear\" onClick={this.onChange()}>\n        x\n      </div>\n    )\n  }\n\n  render() {\n    const {options, canClear, isMulti} = this.props\n\n    return (\n      <div className={this.getClassName()}>\n        {options.map(this.renderOption)}\n        {canClear && this.renderClear()}\n      </div>\n    )\n  }\n}\n\nexport default RadioGroup\n","import React, { Component } from 'react';\nimport memoizeOne from 'memoize-one';\nimport { CacheProvider } from '@emotion/core';\nimport 'react-dom';\nimport 'prop-types';\nimport './utils-06b0d5a4.browser.esm.js';\nexport { y as components } from './index-4322c0ed.browser.esm.js';\nimport { S as Select } from './Select-9fdb8cd0.browser.esm.js';\nexport { c as createFilter, a as defaultTheme, m as mergeStyles } from './Select-9fdb8cd0.browser.esm.js';\nimport '@emotion/css';\nimport 'react-input-autosize';\nimport { m as manageState } from './stateManager-04f734a2.browser.esm.js';\nimport createCache from '@emotion/cache';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar NonceProvider = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(NonceProvider, _Component);\n\n  function NonceProvider(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this.createEmotionCache = function (nonce) {\n      return createCache({\n        nonce: nonce\n      });\n    };\n\n    _this.createEmotionCache = memoizeOne(_this.createEmotionCache);\n    return _this;\n  }\n\n  var _proto = NonceProvider.prototype;\n\n  _proto.render = function render() {\n    var emotionCache = this.createEmotionCache(this.props.nonce);\n    return React.createElement(CacheProvider, {\n      value: emotionCache\n    }, this.props.children);\n  };\n\n  return NonceProvider;\n}(Component);\n\nvar index = manageState(Select);\nexport default index;\nexport { NonceProvider };","import * as d3 from \"d3\"\n\nconst scaleTypes = {\n  linear: d3.scaleLinear,\n  ordinal: d3.scaleOrdinal,\n  time: d3.scaleTime,\n  log: d3.scaleLog,\n}\n\nexport const createScale = (providedConfig) => {\n  const defaultConfig = {\n    type: \"linear\",\n    dimension: \"x\",\n    domain: [0, 1],\n    margin: {top: 0, right: 0, bottom: 0, left: 0}\n  }\n  const config = {\n    ...defaultConfig,\n    ...providedConfig,\n  }\n\n  if (!config.range) {\n    config.range = config.dimension == \"x\" ?\n                      [0, config.width - config.margin.right - config.margin.left] :\n                      [config.height - config.margin.top - config.margin.bottom, 0]\n  }\n\n  let scale = (scaleTypes[config.type] || config.type)()\n  scale.range(config.range)\n       .domain(config.domain)\n  if (config.clamp) scale.clamp(config.clamp)\n\n  return scale\n}","import React, {Component} from \"react\"\nimport PropTypes from \"prop-types\"\nimport classNames from \"classnames\"\nimport * as d3 from \"d3\"\n\nrequire('./Line.scss')\n\nclass Line extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      line: null\n    }\n  }\n\n  static propTypes = {\n    type: PropTypes.oneOf([\"line\", \"area\"]),\n    data: PropTypes.array,\n    xAccessor: PropTypes.oneOfType([PropTypes.func, PropTypes.number]),\n    yAccessor: PropTypes.oneOfType([PropTypes.func, PropTypes.number]),\n    y0Accessor: PropTypes.oneOfType([PropTypes.func, PropTypes.number]),\n    defined: PropTypes.func,\n    interpolation: PropTypes.func,\n    iterator: PropTypes.number, // for updating\n  };\n\n  static defaultProps = {\n    type: \"line\",\n    y0Accessor: 0,\n    interpolation: d3.curveMonotoneX,\n  };\n\n  update = () => {\n    const {type, data, xAccessor, yAccessor, y0Accessor, defined, interpolation} = this.props\n\n    let lineObj = d3[type]()\n      .x(xAccessor)\n      .curve(interpolation)\n      if (type == \"area\") {\n        lineObj.y0(y0Accessor)\n        lineObj.y1(yAccessor)\n      } else {\n        lineObj.y(yAccessor)\n    }\n\n    if (defined) lineObj.defined(defined)\n\n    const line = lineObj(data)\n\n    this.setState({line})\n  }\n\n  componentDidMount() {\n    this.update()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      prevProps.data != this.props.data ||\n      prevProps.iterator != this.props.iterator\n    ) this.update()\n  }\n\n  getClassName() {\n    return classNames(\n      \"Line\",\n      this.props.className\n    )\n  }\n\n  render() {\n    const {type, data, xAccessor, yAccessor, y0Accessor, interpolation, iterator, ...props} = this.props\n    const {line} = this.state\n\n    return (\n      <path className={this.getClassName()} ref=\"path\" d={line} {...props} />\n    )\n  }\n}\n\nexport default Line\n"],"sourceRoot":""}