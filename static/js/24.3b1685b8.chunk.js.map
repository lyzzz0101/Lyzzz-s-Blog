{"version":3,"sources":["components/Articles/Chaconne/Chaconne.jsx","components/_ui/Chart/Chart.jsx","components/_ui/Chart/Axis/Axis.jsx","components/_ui/RadioGroup/RadioGroup.jsx","../node_modules/@juggle/resize-observer/lib/utils/global.js","../node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","../node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","../node_modules/@juggle/resize-observer/lib/utils/scheduler.js","../node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","../node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","../node_modules/@juggle/resize-observer/lib/utils/element.js","../node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","../node_modules/@juggle/resize-observer/lib/ResizeObservation.js","../node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","../node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","../node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","../node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","../node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","../node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","../node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","../node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","../node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","../node_modules/@juggle/resize-observer/lib/ResizeObserver.js","components/_ui/Chart/utils/utils.js","components/_ui/Chart/Scatter/Scatter.jsx","components/_ui/Chart/Line/Line.jsx"],"names":["console","log","bell","barData","musicianData","ehnes","gitlis","heifetz","hristova","kremer","midori","milstein","perlman","vengerov","zimmerman","musicians","_","keys","ordinalColors","metrics","label","accessor","d","emotion","emotions","color","mouthOpen","smile","eyesClosed","slug","isBoxed","metricKeys","map","metricsByKey","fromPairs","metric","d3","range","domain","Chaconne","_useState","useState","_useState2","Object","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","visibleMetrics","setVisibleMetrics","_useState3","_useState4","visibleMusicians","setVisibleMusicians","_useState5","_useState6","hoveredObject","setHoveredObject","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","className","components_ui_RadioGroup_RadioGroup__WEBPACK_IMPORTED_MODULE_15__","options","value","onChange","isMulti","musician","key","startCase","ChaconneVideoChart","name","data","onMouseEnter","_ref","_useChartDimensions","useChartDimensions","marginTop","marginRight","marginBottom","marginLeft","height","_useChartDimensions2","ref","_useMemo","useMemo","metricObject","scale","clamp","stamps","time","toMilliseconds","filter","values","uniq","includes","metricsData","timestamp","timeAccessor","obj","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","ChaconneVideoChartItem","React","memo","_ref2","onMouseEnterLocal","stampIndex","style","background","isFunction","_timestamp$split","split","_timestamp$split2","require","getHeight","margin","arguments","length","undefined","top","bottom","Math","max","getWidth","width","left","right","Chart","props","_this","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_super","call","setSize","_isMounted","_this$props","setState","state","isLoaded","classNames","translate","concat","transform","WebkitTransform","_this2","_setSize","window","addEventListener","setTimeout","removeEventListener","_this$state","react__WEBPACK_IMPORTED_MODULE_5___default","id","x","y","_this$props2","hasNoListener","children","onMouseMove","line","area","bar","xAxis","yAxis","brush","hasTooltip","onMouseLeave","getClassName","renderClipPath","getWrapperStyle","Component","defaultProps","noop","orientations","axesMap","Axis","elem","createRef","axis","dimension","orientation","tickSize","tickSizeInner","tickSizeOuter","ticks","tickFrequency","tickPadding","tickArguments","format","initTransition","transition","init","getOrientation","tickFormat","current","duration","update","newProps","_this$props3","hasInlineLabel","_classNames","_this$props4","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","getStyle","renderLabel","getOptionValue","option","isObject","areSameValue","b","RadioGroup","newValue","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","renderOption","idx","RadioGroup__option--selected","onClick","renderClear","canClear","trigger","ResizeObserverBoxOptions","global","queueMicroTask_callbacks","queueMicroTask","callback","el_1","document","createTextNode","MutationObserver","splice","forEach","cb","observe","characterData","textContent","push","observerConfig","attributes","childList","subtree","events","scheduled","scheduler","Scheduler","stopped","listener","schedule","prototype","run","frames","elementsHaveResized","ResizeObserverController_process","isWatching","start","requestAnimationFrame","stop","observer","body","disconnect","DOMRectReadOnly","freeze","fromRect","rectangle","isSVG","target","SVGElement","isHidden","_a","getBBox","_b","offsetWidth","offsetHeight","getClientRects","cache","Map","scrollRegexp","verticalRegexp","IE","test","navigator","userAgent","parseDimension","pixel","parseFloat","calculateBoxSize_size","inlineSize","blockSize","switchSizes","zeroBoxes","borderBoxSize","contentBoxSize","contentRect","calculateBoxSize_calculateBoxSizes","has","get","set","cs","getComputedStyle","svg","removePadding","boxSizing","writingMode","canScrollVertically","overflowY","canScrollHorizontally","overflowX","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTop","borderTopWidth","borderRight","borderRightWidth","borderBottom","borderBottomWidth","horizontalPadding","verticalPadding","horizontalBorderArea","borderLeftWidth","verticalBorderArea","horizontalScrollbarThickness","clientHeight","verticalScrollbarThickness","clientWidth","widthReduction","heightReduction","contentWidth","contentHeight","borderBoxWidth","borderBoxHeight","boxes","calculateBoxSize_calculateBoxSize","observedBox","BORDER_BOX","ResizeObservation_ResizeObservation","ResizeObservation","CONTENT_BOX","lastReportedSize","isActive","size","tagName","type","isReplacedElement","display","ResizeObserverDetail","resizeObserver","activeTargets","skippedTargets","observationTargets","msg","ResizeObserverEntry_ResizeObserverEntry","calculateDepthForNode_calculateDepthForNode","node","Infinity","depth","parent","parentNode","broadcastActiveObservations_broadcastActiveObservations","shallowestDepth","callbacks","resizeObservers","ro","entries","ot","entry","targetDepth","_i","callbacks_1","gatherActiveObservationsAtDepth_gatherActiveObservationsAtDepth","clear","observerMap","watching","ResizeObserverController_updateCount","n","getObservationIndex","i","some","event","ErrorEvent","message","createEvent","initEvent","dispatchEvent","deliverResizeLoopError","ResizeObserverController_ResizeObserverController","ResizeObserverController","connect","detail","box","unobserve","index","indexOf","delete","ResizeObserver_ResizeObserver","ResizeObserver","TypeError","Element","toString","__webpack_exports__","combineChartDimensions","PropTypes","shape","number","dimensions","parsedDimensions","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__","boundedHeight","boundedWidth","passedSettings","useRef","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","changeWidth","changeHeight","useEffect","element","Array","isArray","newSettings","Scatter","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","radius","xAccessor","yAccessor","dataKey","easing","onUpdate","dots","newDots","selectAll","enter","append","attr","merge","ease","exit","remove","on","prevProps","iterator","react__WEBPACK_IMPORTED_MODULE_4___default","Line","y0Accessor","defined","interpolation","lineObj","curve","y0","y1","_Users_linying_codespace_Lyzzz_s_Blog_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","assign"],"mappings":"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","file":"static/js/24.3b1685b8.chunk.js","sourcesContent":["import { useState, usePrevious, useEffect, useMemo } from 'react';\nimport React, {Component} from \"react\"\nimport PropTypes from \"prop-types\"\nimport numeral from \"numeral\"\nimport domToImage from \"dom-to-image\"\nimport * as d3 from \"d3\"\nimport classNames from \"classnames\"\nimport _ from \"lodash\"\n\nimport { useChartDimensions } from \"components/_ui/Chart/utils/utils\"\n\nimport Tooltip from \"components/_ui/Tooltip/Tooltip\"\nimport Button from \"components/_ui/Button/Button\"\nimport Chart from \"components/_ui/Chart/Chart\"\nimport Scatter from \"components/_ui/Chart/Scatter/Scatter\"\nimport Line from \"components/_ui/Chart/Line/Line\"\nimport Axis from \"components/_ui/Chart/Axis/Axis\"\nimport RadioGroup from \"components/_ui/RadioGroup/RadioGroup\"\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css';\nimport bell from \"./bell-small.json\"\nimport ehnes from \"./ehnes-small.json\"\nimport gitlis from \"./gitlis-small.json\"\nimport heifetz from \"./heifetz-small.json\"\nimport hristova from \"./hristova-small.json\"\nimport kremer from \"./kremer-small.json\"\nimport midori from \"./midori-small.json\"\nimport milstein from \"./milstein-small.json\"\nimport perlman from \"./perlman-small.json\"\nimport vengerov from \"./vengerov-small.json\"\nimport zimmerman from \"./zimmerman-small.json\"\nimport barData from \"./barData.json\"\nimport './Chaconne.scss';\n\nconsole.log(bell, barData)\nconst musicianData = {\n  \"bell\": bell,\n  \"ehnes\": ehnes,\n  \"gitlis\": gitlis,\n  \"heifetz\": heifetz,\n  \"hristova\": hristova,\n  \"kremer\": kremer,\n  \"midori\": midori,\n  \"milstein\": milstein,\n  \"perlman\": perlman,\n  \"vengerov\": vengerov,\n  \"zimmerman\": zimmerman,\n}\nconst musicians = _.keys(musicianData)\n\nconst eyesClosedIcon = <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-eye-off\"><path d=\"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\"></path><line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\"></line></svg>\nconst formatNumber = d => numeral(d).format(\"0,0a\")\nconst formatNumberWithDecimal = d => numeral(d).format(\"0,0.0a\")\nconst ordinalColors = [\"#c7ecee\", \"#778beb\", \"#f7d794\", \"#63cdda\", \"#cf6a87\", \"#e77f67\", \"#786fa6\", \"#FDA7DF\", \"#4b7bec\", \"#778ca3\"];\n\nconst metrics = [{\n  label: \"Angry\",\n  accessor: d => {\n    const emotion = d.emotions[\"ANGRY\"]\n    return emotion < 0.5 ? null : emotion * 100\n  },\n  color: \"#EA2027\",\n},{\n  label: \"Sad\",\n  accessor: d => {\n    const emotion = d.emotions[\"SAD\"]\n    return emotion < 0.5 ? null : emotion * 100\n  },\n  color: \"#5758BB\",\n},{\n  label: \"Disgusted\",\n  accessor: d => {\n    const emotion = d.emotions[\"DISGUSTED\"]\n    return emotion < 0.5 ? null : emotion * 100\n  },\n  color: \"#006266\",\n},{\n  label: \"Calm\",\n  accessor: d => {\n    const emotion = d.emotions[\"CALM\"]\n    return emotion < 0.5 ? null : emotion * 100\n  },\n  color: \"#4b6584\",\n},{\n  label: \"Mouth Open\",\n  accessor: d => d.mouthOpen,\n  color: \"#6F1E51\",\n},{\n  label: \"Smiling\",\n  accessor: d => d.smile,\n  color: \"#6F1E51\",\n},{\n  label: \"Eyes Closed\",\n  accessor: d => d.eyesClosed,\n  color: \"#6F1E51\",\n// },{\n//   label: \"Volume\",\n//   isBoxed: true,\n},{\n  label: \"Tempo\",\n  slug: \"tempo\",\n  color: \"cornflowerblue\",\n  isBoxed: true,\n},{\n  label: \"Key\",\n  slug: \"key\",\n  color: \"cornflowerblue\",\n  isBoxed: true,\n},{\n  label: \"Highlight\",\n  slug: \"highlights\",\n  color: \"cornflowerblue\",\n  isBoxed: true,\n}]\nconst metricKeys = _.map(metrics, \"label\")\nconst metricsByKey = _.fromPairs(_.map(metrics, metric => [\n  metric.label,\n  metric,\n]))\n\nconst colorScale = d3.scaleLinear().range([\"#c7ecee\", \"#686de0\"]).domain([0, 1])\nconst Chaconne = () => {\n  const [visibleMetrics, setVisibleMetrics] = useState(metricKeys)\n  const [visibleMusicians, setVisibleMusicians] = useState([\"zimmerman\"])\n  const [hoveredObject, setHoveredObject] = useState(null)\n\n  return (\n    <div className=\"Chaconne\">\n      <h2 className=\"Chaconne__title\">\n        Chaconne\n      </h2>\n      <div className=\"Chaconne__controls\">\n        <RadioGroup\n          options={metricKeys}\n          value={visibleMetrics}\n          onChange={setVisibleMetrics}\n          isMulti\n        />\n        <br />\n        <RadioGroup\n          options={musicians}\n          value={visibleMusicians}\n          onChange={setVisibleMusicians}\n          isMulti\n        />\n      </div>\n      <div className=\"Chaconne__contents\">\n        {hoveredObject && (\n          <div className=\"Chaconne__hovered\">\n            <div className=\"Chaconne__hovered__metric\">\n              { hoveredObject.metric }\n            </div>\n            <div className=\"Chaconne__hovered__value\">\n              { hoveredObject.value }\n            </div>\n\n          </div>\n        )}\n\n        {_.map(visibleMusicians, musician => (\n          <div key={musician}>\n            <h3>{ _.startCase(musician) }</h3>\n            <ChaconneVideoChart\n              visibleMetrics={visibleMetrics}\n              name={_.startCase(musician)}\n              data={musicianData[musician]}\n              onMouseEnter={setHoveredObject}\n            />\n          </div>\n        ))}\n\n      </div>\n    </div>\n  )\n}\n\nexport default Chaconne\n\n\nconst timeAccessor = d => d.time\nconst ChaconneVideoChart = ({ visibleMetrics, name, data, onMouseEnter }) => {\n  const [ref, dimensions] = useChartDimensions({\n    marginTop: 0,\n    marginRight: 0,\n    marginBottom: 60,\n    marginLeft: 60,\n    height: 600,\n  })\n\n  const [metricsData] = useMemo(() => {\n    const metricsData = _.fromPairs(_.map(visibleMetrics, metric => {\n      const metricObject = metricsByKey[metric]\n\n      let scale = d3.scaleLinear()\n        .domain([0, 100])\n        .range([\"#fff\", metricObject.color])\n        .clamp(true)\n\n      let stamps = null\n      if (metricObject.isBoxed) {\n        stamps = _.map(barData, d => ({time: toMilliseconds(d[name]), key: d[metricObject.slug]})).filter(d => !!d.time)\n        const values = _.uniq(_.map(stamps, \"key\").filter(d => !_.includes([\"END\", \"\"], d)))\n        scale = d3.scaleOrdinal()\n          .domain(values)\n          .range(ordinalColors)\n      }\n\n      return [\n        metric,\n        {\n          scale,\n          stamps,\n        }\n      ]\n    }))\n\n    return [metricsData]\n  })\n\n  return (\n    <div className=\"ChaconneVideoChart\" ref={ref}>\n      <div className=\"ChaconneVideoChart__columns\">\n        {_.map(data, d => {\n          const timestamp = timeAccessor(d)\n          return (\n            <div className=\"ChaconneVideoChart__column\" key={timestamp}>\n              {_.map(visibleMetrics, metric => {\n                const obj = {\n                  ...metricsByKey[metric],\n                  ...metricsData[metric],\n                  d,\n                  metric,\n                  timestamp,\n                  onMouseEnter,\n                }\n                return <ChaconneVideoChartItem {...obj} />\n              })}\n            </div>\n          )\n        })}\n          <div className=\"ChaconneVideoChart__labels\">\n            {_.map(visibleMetrics, metric => {\n              return (\n                <div className=\"ChaconneVideoChart__label\" key={metric}>\n                  { metricsByKey[metric].label }\n                </div>\n              )\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n\nconst ChaconneVideoChartItem = React.memo(({ timestamp, scale, d, metric, accessor, stamps, isBoxed, onMouseEnter }) => {\n  const onMouseEnterLocal = obj => () => onMouseEnter(obj)\n  if (isBoxed) {\n    const stampIndex = d3.bisectRight(_.map(stamps, \"time\"), timestamp) - 1\n    if (!stamps[stampIndex]) return <div className=\"ChaconneVideoChart__item\" />\n    const value = stamps[stampIndex].key\n\n    return (\n      <div\n        className=\"ChaconneVideoChart__item\"\n        onMouseEnter={onMouseEnterLocal({metric, value})}\n        key={metric}\n        style={{background: _.isFunction(scale) ? scale(value) : null}}\n      />\n    )\n  } else {\n    return (\n      <div\n        className=\"ChaconneVideoChart__item\"\n        onMouseEnter={onMouseEnterLocal({metric, value: accessor(d)})}\n        key={metric}\n        style={{background: scale(accessor(d))}}\n      />\n    )\n  }\n})\n\n\n// const timeAccessor = d => d.Timestamp\n// const ChaconneVideoChart = ({ visibleMetrics, data }) => {\n//   const [ref, dimensions] = useChartDimensions({\n//     marginTop: 0,\n//     marginRight: 0,\n//     marginBottom: 60,\n//     marginLeft: 60,\n//     height: 600,\n//   })\n//   const scales = _.fromPairs(_.map(visibleMetrics, metric => [\n//     metric,\n//     d3.scaleOrdinal()\n//       .domain(d3.extent(data, metricsByKey[metric].accessor))\n//       .range([dimensions.boundedHeight, 0])\n//   ]))\n\n//   console.log(dimensions)\n//   const xScale = d3.scaleLinear()\n//     .domain([\n//       timeAccessor(data[0]),\n//       timeAccessor(data[data.length - 1]),\n//     ])\n//     .range([0, dimensions.boundedWidth])\n//   const yScale = d3.scaleLinear()\n//     .domain([\n//       -100, 100\n//     ])\n//     .range([dimensions.boundedHeight, 0])\n\n//   return (\n//     <div className=\"ChaconneVideoChart\" ref={ref}>\n//       <Chart height={dimensions.height} width={dimensions.width} margin={{left: dimensions.marginLeft}}>\n//         {_.map(visibleMetrics, metric => (\n//           <Line\n//             key={metric}\n//             className=\"ChaconneVideoChart__area\"\n//             type=\"area\"\n//             data={data}\n//             xAccessor={d => xScale(timeAccessor(d))}\n//             yAccessor={d => scales[metric](metricsByKey[metric].accessor(d))}\n//             y0Accessor={d => scales[metric](0)}\n//             defined={d => Math.abs(metricsByKey[metric].accessor(d)) > 0.5}\n\n//             // y0Accessor={dimensions.boundedHeight}\n//           />\n//         ))}\n//         <Axis\n//           dimension=\"y\"\n//           orientation=\"left\"\n//           scale={yScale}\n//           // width={dimensions.boundedWidth}\n//           margin={{left: dimensions.marginLeft}}\n//           height={dimensions.boundedHeight}\n//           label=\"Timestamp\"\n//         />\n//         <Axis\n//           dimension=\"x\"\n//           scale={xScale}\n//           width={dimensions.boundedWidth}\n//           height={dimensions.boundedHeight}\n//           label=\"Timestamp\"\n//         />\n//       </Chart>\n//     </div>\n//   )\n// }\n\nfunction toMilliseconds(timestamp) {\n  const [min, sec] = timestamp.split(\":\")\n  return min * 1000 * 60\n    + sec * 1000\n}","import React, {Component} from \"react\"\nimport PropTypes from \"prop-types\"\nimport classNames from \"classnames\"\nimport numeral from \"numeral\"\nimport _ from \"lodash\"\nimport * as d3 from \"d3\"\n\nrequire('./Chart.scss')\n\nexport const getHeight = (height, margin={top: 0, bottom: 0}) => Math.max(height - margin.top - margin.bottom, 0)\nexport const getWidth = (width, margin={left: 0, right: 0}) => Math.max(width - margin.left - margin.right, 0)\n\nclass Chart extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      height: this.props.height,\n      width: this.props.width,\n      isLoaded: false,\n    }\n  }\n\n  static propTypes = {\n    height: PropTypes.number,\n    width: PropTypes.number,\n    margin: PropTypes.shape({\n      top: PropTypes.number,\n      right: PropTypes.number,\n      bottom: PropTypes.number,\n      left: PropTypes.number,\n    }),\n    hasNoListener: PropTypes.bool,\n    onMouseMove: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n  };\n\n  static defaultProps = {\n    height: 200,\n    width: 600,\n    margin: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n    },\n    onMouseMove: _.noop,\n    onMouseEnter: _.noop,\n    onMouseEnter: _.noop,\n};\n\n  getClassName() {\n    return classNames(\"Chart\", this.props.className)\n  }\n\n  getWrapperStyle() {\n    let {margin} = this.props\n    let translate = `translate3d(${margin.left}px, ${margin.top}px, 0)`\n    return {\n      transform: translate,\n      WebkitTransform: translate\n    }\n  }\n\n  setSize = () => {\n    if (!this._isMounted) return\n    let {height, width, margin} = this.props\n    this.setState({height: getHeight(height, margin)})\n    this.setState({width: getWidth(width, margin)})\n  }\n\n  componentWillMount() {\n    this.setSize()\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n    this._setSize = this.setSize\n    window.addEventListener(\"resize\", this._setSize)\n    setTimeout(() => {\n      this.setState({isLoaded: true})\n    })\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n    window.removeEventListener(\"resize\", this._setSize)\n  }\n\n  renderClipPath() {\n    let {height, width} = this.state\n    let {margin} = this.props\n\n    return <clipPath id=\"chartPath-clip\">\n      <rect className=\"Chart__clip-path\"\n        x={margin.left}\n        y={margin.top}\n        height={height}\n        width={width}\n      />\n    </clipPath>\n  }\n\n\n  render() {\n    const {height, width, margin, hasNoListener, children, line, area, bar, xAxis, yAxis, brush, hasTooltip, onMouseMove, onMouseEnter, onMouseLeave} = this.props\n\n    return (\n      <div ref=\"elem\" className={this.getClassName()}>\n        <svg className=\"Chart__svg\" height={height} width={width}>\n          <defs>\n            {this.renderClipPath()}\n          </defs>\n          <g className=\"Chart__wrapper\" style={this.getWrapperStyle()}>\n            {children}\n          </g>\n          {!hasNoListener && (\n            <rect\n              className=\"Chart__listener\"\n              x={margin.left}\n              y={margin.top}\n              height={getHeight(height, margin)}\n              width={getWidth(width, margin)}\n              onMouseMove={onMouseMove}\n              onMouseLeave={onMouseLeave}\n              onMouseEnter={onMouseEnter}\n            />\n          )}\n        </svg>\n      </div>\n    )\n  }\n}\n\nexport default Chart\n","import React, {Component} from \"react\"\nimport PropTypes from \"prop-types\"\nimport classNames from \"classnames\"\nimport * as d3 from \"d3\"\n\nrequire('./Axis.scss')\nconst orientations = {\n  x: \"bottom\",\n  y: \"left\"\n}\nconst axesMap = {\n  top: \"axisTop\",\n  left: \"axisLeft\",\n  right: \"axisRight\",\n  bottom: \"axisBottom\",\n}\n\nclass Axis extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      axis: null\n    }\n  }\n\n  static propTypes = {\n    width: PropTypes.number,\n    height: PropTypes.number,\n    scale: PropTypes.func,\n    margin: PropTypes.shape({\n      top: PropTypes.number,\n      right: PropTypes.number,\n      bottom: PropTypes.number,\n      left: PropTypes.number,\n    }),\n    dimension: PropTypes.oneOf([\"x\", \"y\"]),\n    orientation: PropTypes.oneOf([\"left\", \"right\", \"top\", \"bottom\"]),\n    ticks: PropTypes.number,\n    tickSize: PropTypes.number,\n    tickSizeInner: PropTypes.number,\n    tickSizeOuter: PropTypes.number,\n    tickFrequency: PropTypes.number,\n    tickArguments: PropTypes.array,\n    format: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.number,\n    ]),\n    initTransition: PropTypes.number,\n    transition: PropTypes.number,\n    label: PropTypes.string,\n    hasInlineLabel: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    margin: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n    },\n    ticks: 6,\n    tickSize: 0,\n    tickSizeInner: 6,\n    tickSizeOuter: 0,\n    initTransition: 300,\n    transition: 300\n  };\n  elem = React.createRef()\n\n  getStyle() {\n    const {height, width, margin, dimension} = this.props\n    const x = dimension == \"x\"      ? 0 :\n              margin.left           ? 1 :\n                                      width\n    const y = dimension == \"x\" ? height - margin.top - margin.bottom : 0\n\n    return {\n      transform: `translate3d(${x}px, ${y}px, 0)`\n    }\n  }\n\n  getOrientation() {\n    let {dimension, orientation} = this.props\n    return orientation || orientations[this.props.dimension] || \"left\"\n  }\n\n  update(props) {\n    let {scale, label, tickSize, tickSizeInner, tickSizeOuter, ticks, tickFrequency, tickPadding, tickArguments, format, initTransition, transition} = (props || this.props)\n    let {axis} = this.state\n    if (!scale) return\n\n    let init = !axis\n    if (init) axis = d3[axesMap[this.getOrientation()]]()\n\n    axis.scale(scale)\n        .tickSize(tickSize)\n        .tickSizeInner(tickSizeInner)\n        .tickSizeOuter(tickSizeOuter)\n\n    if (tickArguments) axis.tickArguments(tickArguments)\n    if (format) axis.tickFormat(format)\n    if (ticks) axis.ticks(ticks, tickFrequency)\n    if (tickPadding) axis.tickPadding(tickPadding)\n\n    d3.select(this.elem.current)\n      .transition().duration(init ? initTransition : transition)\n      .call(axis)\n\n    this.setState({axis})\n  }\n\n  componentDidMount() {\n    this.update()\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.update(newProps)\n  }\n\n  renderLabel() {\n    let {dimension, label, width, hasInlineLabel} = this.props\n    let x =      dimension == \"x\" ? width - 100 || 0 : 0\n    let y =      dimension == \"x\" ? -10 :\n      hasInlineLabel ? 6 : 20\n    let rotate = dimension == \"x\" || hasInlineLabel ? 0 : -90\n\n    let style = {\n      transform: `rotate(${rotate}deg)`,\n    }\n    return <text\n      className={`Axis__label Axis--${dimension ? `${dimension}__` : ''}label`}\n      style={style}\n      x={x}\n      y={y}>\n      {label}\n    </text>\n  }\n\n  getClassName() {\n    let {dimension, hasInlineLabel, className} = this.props\n\n    return classNames(\n      \"Axis\", {\n        [`Axis--${dimension}`]: dimension,\n        [`Axis--has-inline-label`]: hasInlineLabel,\n      },\n      className\n    )\n  }\n\n  render() {\n    let {label} = this.props\n\n    return (\n      <g ref={this.elem} className={this.getClassName()} style={this.getStyle()}>\n        {!!label && this.renderLabel()}\n      </g>\n    )\n  }\n}\n\nexport default Axis\n","import React, {Component} from \"react\"\nimport PropTypes from \"prop-types\"\nimport classNames from \"classnames\"\nimport _ from \"lodash\"\nimport {isObject} from \"lodash\"\n\nrequire('./RadioGroup.scss')\n\nconst getOptionValue = option => _.isObject(option) ? option.value : option\nconst areSameValue = (a, b) => getOptionValue(a) == getOptionValue(b)\nclass RadioGroup extends Component {\n  static propTypes = {\n    options: PropTypes.array,\n    value: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.object\n    ]),\n    isMulti: PropTypes.bool,\n    canClear: PropTypes.bool,\n    onChange: PropTypes.func,\n  };\n\n  static defaultProps = {\n    options: [],\n    isMulti: false,\n    canClear: false,\n    onChange: _.noop,\n  };\n\n  getClassName() {\n    return classNames(\n      \"RadioGroup\", this.props.className\n    )\n  }\n\n  onChange = option => () => {\n    const { value, isMulti } = this.props\n    const newValue = isMulti ?\n        !option ? [] :\n        value.map(getOptionValue).includes(getOptionValue(option)) ? _.filter(value, d => !areSameValue(option, d)) :\n          [...value, option]  :\n        !option || areSameValue(value, option) ?\n          null :\n        option\n    this.props.onChange(newValue)\n  }\n\n  renderOption = (option, idx) => {\n    const {value, isMulti} = this.props\n\n    const className = classNames(\n      \"RadioGroup__option\", {\n        \"RadioGroup__option--selected\": isMulti ?\n          value.map(getOptionValue).includes(getOptionValue(option)) :\n          areSameValue(option, value)\n      }\n    )\n    return <div className={className} style={{\n      color: option.color,\n    }} onClick={this.onChange(option)} key={idx}>\n      {_.isObject(option) && option.label ? option.label : getOptionValue(option)}\n    </div>\n  }\n\n  renderClear = () => {\n    return (\n      <div className=\"RadioGroup__option RadioGroup__clear\" onClick={this.onChange()}>\n        x\n      </div>\n    )\n  }\n\n  render() {\n    const {options, canClear, isMulti} = this.props\n\n    return (\n      <div className={this.getClassName()}>\n        {options.map(this.renderOption)}\n        {canClear && this.renderClear()}\n      </div>\n    )\n  }\n}\n\nexport default RadioGroup\n","var global = typeof window === 'undefined' ? this || {} : window;\nexport { global };","var trigger;\nvar callbacks = [];\n\nvar notify = function notify() {\n  return callbacks.splice(0).forEach(function (cb) {\n    return cb();\n  });\n};\n\nvar queueMicroTask = function queueMicroTask(callback) {\n  if (!trigger) {\n    var el_1 = document.createTextNode('');\n    var config = {\n      characterData: true\n    };\n    new MutationObserver(function () {\n      return notify();\n    }).observe(el_1, config);\n\n    trigger = function trigger() {\n      el_1.textContent = '';\n    };\n  }\n\n  callbacks.push(callback);\n  trigger();\n};\n\nexport { queueMicroTask };","var ResizeObserverBoxOptions;\n\n(function (ResizeObserverBoxOptions) {\n  ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n  ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\n\nexport { ResizeObserverBoxOptions };","import { process, isWatching } from '../ResizeObserverController';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar CATCH_FRAMES = 60 / 5;\nvar observerConfig = {\n  attributes: true,\n  characterData: true,\n  childList: true,\n  subtree: true\n};\nvar events = ['resize', 'load', 'transitionend', 'animationend', 'animationstart', 'animationiteration', 'keyup', 'keydown', 'mouseup', 'mousedown', 'mouseover', 'mouseout', 'blur', 'focus'];\nvar scheduled = false;\n\nvar Scheduler = function () {\n  function Scheduler() {\n    var _this = this;\n\n    this.stopped = true;\n\n    this.listener = function () {\n      return _this.schedule();\n    };\n  }\n\n  Scheduler.prototype.run = function (frames) {\n    var _this = this;\n\n    if (scheduled) {\n      return;\n    }\n\n    scheduled = true;\n    queueResizeObserver(function () {\n      var elementsHaveResized = false;\n\n      try {\n        elementsHaveResized = process();\n      } finally {\n        scheduled = false;\n\n        if (!isWatching()) {\n          return;\n        }\n\n        if (elementsHaveResized) {\n          _this.run(60);\n        } else if (frames) {\n          _this.run(frames - 1);\n        } else {\n          _this.start();\n        }\n      }\n    });\n  };\n\n  Scheduler.prototype.schedule = function () {\n    this.stop();\n    this.run(CATCH_FRAMES);\n  };\n\n  Scheduler.prototype.observe = function () {\n    var _this = this;\n\n    var cb = function cb() {\n      return _this.observer && _this.observer.observe(document.body, observerConfig);\n    };\n\n    document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n  };\n\n  Scheduler.prototype.start = function () {\n    var _this = this;\n\n    if (this.stopped) {\n      this.stopped = false;\n      this.observer = new MutationObserver(this.listener);\n      this.observe();\n      events.forEach(function (name) {\n        return global.addEventListener(name, _this.listener, true);\n      });\n    }\n  };\n\n  Scheduler.prototype.stop = function () {\n    var _this = this;\n\n    if (!this.stopped) {\n      this.observer && this.observer.disconnect();\n      events.forEach(function (name) {\n        return global.removeEventListener(name, _this.listener, true);\n      });\n      this.stopped = true;\n    }\n  };\n\n  return Scheduler;\n}();\n\nvar scheduler = new Scheduler();\nexport { scheduler };","import { queueMicroTask } from './queueMicroTask';\n\nvar queueResizeObserver = function queueResizeObserver(cb) {\n  queueMicroTask(function ResizeObserver() {\n    requestAnimationFrame(cb);\n  });\n};\n\nexport { queueResizeObserver };","var DOMRectReadOnly = function () {\n  function DOMRectReadOnly(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.top = this.y;\n    this.left = this.x;\n    this.bottom = this.top + this.height;\n    this.right = this.left + this.width;\n    return Object.freeze(this);\n  }\n\n  DOMRectReadOnly.fromRect = function (rectangle) {\n    return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n  };\n\n  return DOMRectReadOnly;\n}();\n\nexport { DOMRectReadOnly };","var isSVG = function isSVG(target) {\n  return target instanceof SVGElement && 'getBBox' in target;\n};\n\nvar isHidden = function isHidden(target) {\n  if (isSVG(target)) {\n    var _a = target.getBBox(),\n        width = _a.width,\n        height = _a.height;\n\n    return !width && !height;\n  }\n\n  var _b = target,\n      offsetWidth = _b.offsetWidth,\n      offsetHeight = _b.offsetHeight;\n  return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\n\nvar isReplacedElement = function isReplacedElement(target) {\n  switch (target.tagName) {\n    case 'INPUT':\n      if (target.type !== 'image') {\n        break;\n      }\n\n    case 'VIDEO':\n    case 'AUDIO':\n    case 'EMBED':\n    case 'OBJECT':\n    case 'CANVAS':\n    case 'IFRAME':\n    case 'IMG':\n      return true;\n  }\n\n  return false;\n};\n\nexport { isSVG, isHidden, isReplacedElement };","import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { global } from '../utils/global';\nvar cache = new Map();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = /msie|trident/i.test(global.navigator && global.navigator.userAgent);\n\nvar parseDimension = function parseDimension(pixel) {\n  return parseFloat(pixel || '0');\n};\n\nvar size = function size(inlineSize, blockSize, switchSizes) {\n  if (inlineSize === void 0) {\n    inlineSize = 0;\n  }\n\n  if (blockSize === void 0) {\n    blockSize = 0;\n  }\n\n  if (switchSizes === void 0) {\n    switchSizes = false;\n  }\n\n  return Object.freeze({\n    inlineSize: (switchSizes ? blockSize : inlineSize) || 0,\n    blockSize: (switchSizes ? inlineSize : blockSize) || 0\n  });\n};\n\nvar zeroBoxes = Object.freeze({\n  borderBoxSize: size(),\n  contentBoxSize: size(),\n  contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\n\nvar calculateBoxSizes = function calculateBoxSizes(target) {\n  if (cache.has(target)) {\n    return cache.get(target);\n  }\n\n  if (isHidden(target)) {\n    cache.set(target, zeroBoxes);\n    return zeroBoxes;\n  }\n\n  var cs = getComputedStyle(target);\n  var svg = isSVG(target) && target.getBBox();\n  var removePadding = !IE && cs.boxSizing === 'border-box';\n  var switchSizes = verticalRegexp.test(cs.writingMode || '');\n  var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n  var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n  var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n  var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n  var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n  var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n  var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n  var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n  var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n  var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n  var horizontalPadding = paddingLeft + paddingRight;\n  var verticalPadding = paddingTop + paddingBottom;\n  var horizontalBorderArea = borderLeft + borderRight;\n  var verticalBorderArea = borderTop + borderBottom;\n  var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n  var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n  var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n  var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n  var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n  var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n  var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n  var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n  var boxes = Object.freeze({\n    borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n    contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n    contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n  });\n  cache.set(target, boxes);\n  return boxes;\n};\n\nvar calculateBoxSize = function calculateBoxSize(target, observedBox) {\n  var _a = calculateBoxSizes(target),\n      borderBoxSize = _a.borderBoxSize,\n      contentBoxSize = _a.contentBoxSize;\n\n  return observedBox === ResizeObserverBoxOptions.BORDER_BOX ? borderBoxSize : contentBoxSize;\n};\n\nexport { calculateBoxSize, calculateBoxSizes, cache };","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\n\nvar skipNotifyOnElement = function skipNotifyOnElement(target) {\n  return !isSVG(target) && !isReplacedElement(target) && getComputedStyle(target).display === 'inline';\n};\n\nvar ResizeObservation = function () {\n  function ResizeObservation(target, observedBox) {\n    this.target = target;\n    this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n    this.lastReportedSize = {\n      inlineSize: 0,\n      blockSize: 0\n    };\n  }\n\n  ResizeObservation.prototype.isActive = function () {\n    var size = calculateBoxSize(this.target, this.observedBox);\n\n    if (skipNotifyOnElement(this.target)) {\n      this.lastReportedSize = size;\n    }\n\n    if (this.lastReportedSize.inlineSize !== size.inlineSize || this.lastReportedSize.blockSize !== size.blockSize) {\n      return true;\n    }\n\n    return false;\n  };\n\n  return ResizeObservation;\n}();\n\nexport { ResizeObservation };","var ResizeObserverDetail = function () {\n  function ResizeObserverDetail(resizeObserver, callback) {\n    this.activeTargets = [];\n    this.skippedTargets = [];\n    this.observationTargets = [];\n    this.observer = resizeObserver;\n    this.callback = callback;\n  }\n\n  return ResizeObserverDetail;\n}();\n\nexport { ResizeObserverDetail };","var msg = 'ResizeObserver loop completed with undelivered notifications.';\n\nvar deliverResizeLoopError = function deliverResizeLoopError() {\n  var event;\n\n  if (typeof ErrorEvent === 'function') {\n    event = new ErrorEvent('error', {\n      message: msg\n    });\n  } else {\n    event = document.createEvent('Event');\n    event.initEvent('error', false, false);\n    event.message = msg;\n  }\n\n  window.dispatchEvent(event);\n};\n\nexport { deliverResizeLoopError };","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\n\nvar ResizeObserverEntry = function () {\n  function ResizeObserverEntry(target) {\n    var boxes = calculateBoxSizes(target);\n    this.target = target;\n    this.contentRect = boxes.contentRect;\n    this.borderBoxSize = boxes.borderBoxSize;\n    this.contentBoxSize = boxes.contentBoxSize;\n  }\n\n  return ResizeObserverEntry;\n}();\n\nexport { ResizeObserverEntry };","import { isHidden } from '../utils/element';\n\nvar calculateDepthForNode = function calculateDepthForNode(node) {\n  if (isHidden(node)) {\n    return Infinity;\n  }\n\n  var depth = 0;\n  var parent = node.parentNode;\n\n  while (parent) {\n    depth += 1;\n    parent = parent.parentNode;\n  }\n\n  return depth;\n};\n\nexport { calculateDepthForNode };","import { resizeObservers } from '../ResizeObserverController';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\n\nvar broadcastActiveObservations = function broadcastActiveObservations() {\n  var shallowestDepth = Infinity;\n  var callbacks = [];\n  resizeObservers.forEach(function processObserver(ro) {\n    if (ro.activeTargets.length === 0) {\n      return;\n    }\n\n    var entries = [];\n    ro.activeTargets.forEach(function processTarget(ot) {\n      var entry = new ResizeObserverEntry(ot.target);\n      var targetDepth = calculateDepthForNode(ot.target);\n      entries.push(entry);\n      ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n\n      if (targetDepth < shallowestDepth) {\n        shallowestDepth = targetDepth;\n      }\n    });\n    callbacks.push(function resizeObserverCallback() {\n      ro.callback.call(ro.observer, entries, ro.observer);\n    });\n    ro.activeTargets.splice(0, ro.activeTargets.length);\n  });\n\n  for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n    var callback = callbacks_1[_i];\n    callback();\n  }\n\n  return shallowestDepth;\n};\n\nexport { broadcastActiveObservations };","import { resizeObservers } from '../ResizeObserverController';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { cache as sizeCache } from './calculateBoxSize';\n\nvar gatherActiveObservationsAtDepth = function gatherActiveObservationsAtDepth(depth) {\n  sizeCache.clear();\n  resizeObservers.forEach(function processObserver(ro) {\n    ro.activeTargets.splice(0, ro.activeTargets.length);\n    ro.skippedTargets.splice(0, ro.skippedTargets.length);\n    ro.observationTargets.forEach(function processTarget(ot) {\n      if (ot.isActive()) {\n        if (calculateDepthForNode(ot.target) > depth) {\n          ro.activeTargets.push(ot);\n        } else {\n          ro.skippedTargets.push(ot);\n        }\n      }\n    });\n  });\n};\n\nexport { gatherActiveObservationsAtDepth };","import { scheduler } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { hasActiveObservations } from './algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from './algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from './algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from './algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from './algorithms/gatherActiveObservationsAtDepth';\nvar resizeObservers = [];\nvar observerMap = new Map();\nvar watching = 0;\n\nvar updateCount = function updateCount(n) {\n  !watching && n > 0 && scheduler.start();\n  watching += n;\n  !watching && scheduler.stop();\n};\n\nvar getObservationIndex = function getObservationIndex(observationTargets, target) {\n  for (var i = 0; i < observationTargets.length; i += 1) {\n    if (observationTargets[i].target === target) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\nvar process = function process() {\n  var depth = 0;\n  gatherActiveObservationsAtDepth(depth);\n\n  while (hasActiveObservations()) {\n    depth = broadcastActiveObservations();\n    gatherActiveObservationsAtDepth(depth);\n  }\n\n  if (hasSkippedObservations()) {\n    deliverResizeLoopError();\n  }\n\n  return depth > 0;\n};\n\nvar ResizeObserverController = function () {\n  function ResizeObserverController() {}\n\n  ResizeObserverController.connect = function (resizeObserver, callback) {\n    var detail = new ResizeObserverDetail(resizeObserver, callback);\n    resizeObservers.push(detail);\n    observerMap.set(resizeObserver, detail);\n  };\n\n  ResizeObserverController.observe = function (resizeObserver, target, options) {\n    if (observerMap.has(resizeObserver)) {\n      var detail = observerMap.get(resizeObserver);\n\n      if (getObservationIndex(detail.observationTargets, target) < 0) {\n        detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n        updateCount(1);\n        scheduler.schedule();\n      }\n    }\n  };\n\n  ResizeObserverController.unobserve = function (resizeObserver, target) {\n    if (observerMap.has(resizeObserver)) {\n      var detail = observerMap.get(resizeObserver);\n      var index = getObservationIndex(detail.observationTargets, target);\n\n      if (index >= 0) {\n        detail.observationTargets.splice(index, 1);\n        updateCount(-1);\n      }\n    }\n  };\n\n  ResizeObserverController.disconnect = function (resizeObserver) {\n    if (observerMap.has(resizeObserver)) {\n      var detail = observerMap.get(resizeObserver);\n      resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n      observerMap.delete(resizeObserver);\n      updateCount(-detail.observationTargets.length);\n    }\n  };\n\n  return ResizeObserverController;\n}();\n\nvar isWatching = function isWatching() {\n  return !!watching;\n};\n\nexport { ResizeObserverController, resizeObservers, process, isWatching };","import { resizeObservers } from '../ResizeObserverController';\n\nvar hasActiveObservations = function hasActiveObservations() {\n  return resizeObservers.some(function (ro) {\n    return ro.activeTargets.length > 0;\n  });\n};\n\nexport { hasActiveObservations };","import { resizeObservers } from '../ResizeObserverController';\n\nvar hasSkippedObservations = function hasSkippedObservations() {\n  return resizeObservers.some(function (ro) {\n    return ro.skippedTargets.length > 0;\n  });\n};\n\nexport { hasSkippedObservations };","import { ResizeObserverController } from './ResizeObserverController';\n\nvar ResizeObserver = function () {\n  function ResizeObserver(callback) {\n    if (arguments.length === 0) {\n      throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n    }\n\n    if (typeof callback !== 'function') {\n      throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n    }\n\n    ResizeObserverController.connect(this, callback);\n  }\n\n  ResizeObserver.prototype.observe = function (target, options) {\n    if (arguments.length === 0) {\n      throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n    }\n\n    if (target instanceof Element === false) {\n      throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n    }\n\n    ResizeObserverController.observe(this, target, options);\n  };\n\n  ResizeObserver.prototype.unobserve = function (target) {\n    if (arguments.length === 0) {\n      throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n    }\n\n    if (target instanceof Element === false) {\n      throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n    }\n\n    ResizeObserverController.unobserve(this, target);\n  };\n\n  ResizeObserver.prototype.disconnect = function () {\n    ResizeObserverController.disconnect(this);\n  };\n\n  ResizeObserver.toString = function () {\n    return 'function ResizeObserver () { [polyfill code] }';\n  };\n\n  return ResizeObserver;\n}();\n\nexport default ResizeObserver;\nexport { ResizeObserver };","import { useRef, useState, useEffect } from \"react\"\nimport PropTypes from \"prop-types\"\nimport ResizeObserver from '@juggle/resize-observer';\n\nexport const dimensionsPropsType = (\n    PropTypes.shape({\n        height: PropTypes.number,\n        width: PropTypes.number,\n        marginTop: PropTypes.number,\n        marginRight: PropTypes.number,\n        marginBottom: PropTypes.number,\n        marginLeft: PropTypes.number,\n    })\n)\n\nexport const combineChartDimensions = dimensions => {\n    let parsedDimensions = {\n        marginTop: 40,\n        marginRight: 30,\n        marginBottom: 40,\n        marginLeft: 75,\n        ...dimensions,\n    }\n\n    return {\n        ...parsedDimensions,\n        boundedHeight: Math.max(parsedDimensions.height - parsedDimensions.marginTop - parsedDimensions.marginBottom, 0),\n        boundedWidth: Math.max(parsedDimensions.width - parsedDimensions.marginLeft - parsedDimensions.marginRight, 0),\n    }\n}\n\nexport const useChartDimensions = passedSettings => {\n    const ref = useRef()\n    const dimensions = combineChartDimensions(passedSettings)\n\n    const [width, changeWidth] = useState(0)\n    const [height, changeHeight] = useState(0)\n\n    useEffect(() => {\n        if (dimensions.width && dimensions.height) return [ref, dimensions]\n\n        const element = ref.current\n        const resizeObserver = new ResizeObserver(entries => {\n            if (!Array.isArray(entries)) return\n            if (!entries.length) return\n\n            const entry = entries[0]\n\n            if (width != entry.contentRect.width) changeWidth(entry.contentRect.width)\n            if (height != entry.contentRect.height) changeHeight(entry.contentRect.height)\n        })\n\n        resizeObserver.observe(element)\n\n        return () => resizeObserver.unobserve(element)\n    }, [])\n\n    const newSettings = combineChartDimensions({\n        ...dimensions,\n        width: dimensions.width || width,\n        height: dimensions.height || height,\n    })\n\n    return [ref, newSettings]\n}","import React, {Component} from \"react\"\nimport PropTypes from \"prop-types\"\nimport classNames from \"classnames\"\nimport _ from \"lodash\"\nimport * as d3 from \"d3\"\n\nrequire('./Scatter.scss')\nconst orientations = {\n  x: \"bottom\",\n  y: \"left\"\n}\n\nclass Scatter extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      dots: null\n    }\n  }\n\n  static propTypes = {\n    data: PropTypes.array,\n    radius: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.func,\n    ]),\n    xAccessor: PropTypes.func,\n    yAccessor: PropTypes.func,\n    dataKey: PropTypes.func,\n    initTransition: PropTypes.number,\n    transition: PropTypes.number,\n    easing: PropTypes.func,\n    onUpdate: PropTypes.func,\n  };\n\n  static defaultProps = {\n    radius: 8,\n    initTransition: 1300,\n    transition: 300,\n    easing: d3.easeLinear,\n    onUpdate: _.noop,\n  };\n  elem = React.createRef()\n\n  update = () => {\n    let {data, radius, xAccessor, yAccessor, dataKey, initTransition, transition, easing, onUpdate} = this.props\n    let {dots} = this.state\n\n    let init = !dots\n    dots = d3.select(this.elem.current).selectAll(\".dot\")\n      .data((data || []), dataKey)\n\n    const newDots = dots.enter().append(\"circle\")\n      .attr(\"class\", \"dot\")\n\n    dots = newDots.merge(dots)\n\n    if (init) {\n      dots.attr(\"r\", 0)\n          .attr(\"cx\", xAccessor)\n          .attr(\"cy\", yAccessor)\n    }\n\n    dots.transition().duration(init ? initTransition : transition).ease(easing)\n        .attr(\"r\", radius)\n        .attr(\"cx\", xAccessor)\n        .attr(\"cy\", yAccessor)\n\n    dots.exit().remove()\n\n    dots.on(\"mouseenter\", d => console.log(d))\n\n    this.setState({dots})\n    onUpdate(dots)\n  }\n\n  componentDidMount() {\n    this.update()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      // this.props.data != prevProps.data ||\n      // this.props.xAccessor != prevProps.xAccessor ||\n      // this.props.yAccessor != prevProps.yAccessor ||\n      this.props.iterator != prevProps.iterator\n    ) this.update()\n  }\n\n  getClassName() {\n    return classNames(\n      \"Scatter\",\n      this.props.className\n    )\n  }\n\n  render() {\n    return (\n      <g ref={this.elem} className={this.getClassName()} />\n    )\n  }\n}\n\nexport default Scatter\n","import React, {Component} from \"react\"\nimport PropTypes from \"prop-types\"\nimport classNames from \"classnames\"\nimport * as d3 from \"d3\"\n\nrequire('./Line.scss')\n\nclass Line extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      line: null\n    }\n  }\n\n  static propTypes = {\n    type: PropTypes.oneOf([\"line\", \"area\"]),\n    data: PropTypes.array,\n    xAccessor: PropTypes.oneOfType([PropTypes.func, PropTypes.number]),\n    yAccessor: PropTypes.oneOfType([PropTypes.func, PropTypes.number]),\n    y0Accessor: PropTypes.oneOfType([PropTypes.func, PropTypes.number]),\n    defined: PropTypes.func,\n    interpolation: PropTypes.func,\n    iterator: PropTypes.number, // for updating\n  };\n\n  static defaultProps = {\n    type: \"line\",\n    y0Accessor: 0,\n    interpolation: d3.curveMonotoneX,\n  };\n\n  update = () => {\n    const {type, data, xAccessor, yAccessor, y0Accessor, defined, interpolation} = this.props\n\n    let lineObj = d3[type]()\n      .x(xAccessor)\n      .curve(interpolation)\n      if (type == \"area\") {\n        lineObj.y0(y0Accessor)\n        lineObj.y1(yAccessor)\n      } else {\n        lineObj.y(yAccessor)\n    }\n\n    if (defined) lineObj.defined(defined)\n\n    const line = lineObj(data)\n\n    this.setState({line})\n  }\n\n  componentDidMount() {\n    this.update()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      prevProps.data != this.props.data ||\n      prevProps.iterator != this.props.iterator\n    ) this.update()\n  }\n\n  getClassName() {\n    return classNames(\n      \"Line\",\n      this.props.className\n    )\n  }\n\n  render() {\n    const {type, data, xAccessor, yAccessor, y0Accessor, interpolation, iterator, ...props} = this.props\n    const {line} = this.state\n\n    return (\n      <path className={this.getClassName()} ref=\"path\" d={line} {...props} />\n    )\n  }\n}\n\nexport default Line\n"],"sourceRoot":""}