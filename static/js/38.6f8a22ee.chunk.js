(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{1071:function(e,t,n){},1295:function(e,t,n){"use strict";n.r(t);var a=n(17),r=n(13),i=n(41),o=n(42),c=n(55),s=n(0),l=n.n(s),u=n(4),d=n(716),h=n(216),m=n.n(h),f=n(16),p=n.n(f),g=n(649),v=n(628),y=n(656),b=n(676),C=n(715),S=(n(1071),[{code:"AS",value:"Asia",color:"#12CBC4"},{code:"EU",value:"Europe",color:"#B53471"},{code:"AF",value:"Africa",color:"#F79F1F"},{code:"NA",value:"North America",color:"#5758BB"},{code:"OC",value:"Oceania",color:"#1289A7"},{code:"SA",value:"South America",color:"#A3CB38"}]),x=(Object(g.a)({domain:[0,S.length-1],range:["#63cdda","#cf6a87"]}),u.scaleSequential(d.a));Object(g.a)({domain:[0,1],range:["#fff","#45aeb1"]});S=p.a.map(S,function(e,t){return Object(c.a)(Object(c.a)({},e),{},{color:u.interpolatePlasma(t/(S.length-1))})});var _=p.a.fromPairs(p.a.map(S,function(e){return[e.code,Object(g.a)({domain:[-.3,.6,1.2],range:["#fff",e.color,"#000"]})]})),P=[{value:!0,label:"Percentile"},{value:!1,label:"Value"}],w=[{value:"normal",label:"All the same"},{value:"continents",label:"Continents"}],M=p.a.map(b,"fieldname"),D=p.a.fromPairs(p.a.map(b,function(e){return[e.fieldname,e.RankedCorrelationWithOtherFields]})),E=(Object(g.a)({domain:[0,M.length-1],range:["#63cdda","#e77f67"]}),function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).chart=l.a.createRef(),r.createScales=function(){var e=r.state,t=e.sort,n=e.selectedContinents,a=e.isAscending,i=(e.isShowingPercentile,p.a.map(D[t],function(e){return M[e-1]})),o=p.a.map(n,"code"),c=p.a.orderBy(y,[function(e){return e["".concat(t,"__percentile")]}],[a?"asc":"desc"]),s=p.a.isEmpty(n)?c:p.a.filter(c,function(e){return p.a.includes(o,e.Continent)}),l=p.a.fromPairs(p.a.map(M,function(e,t){return[e,Object(g.a)({domain:u.extent(c,function(t){return t[e]}),range:[0,1]})]}));r.setState({scales:l,processedData:s,metrics:i})},r.onChangeSort=function(e){return e==r.state.sort?r.setState({isAscending:!r.state.isAscending},r.createScales):r.setState({sort:e,isAscending:!!r.state.isShowingPercentile},r.createScales)},r.onContinentsSelect=function(e){return r.setState({selectedContinents:e},r.createScales)},r.onColorModeOptionsSelect=function(e){return r.setState({colorMode:e.value})},r.onIsShowingPercentileSelect=function(e){return r.setState({isShowingPercentile:e.value,isAscending:!r.state.isAscending},r.createScales)},r.onCountryHover=function(e){return r.setState({hoveredCountry:e})},r.state={metrics:M,scales:{},sort:M[0],processedData:[],selectedContinents:[],hoveredCountry:null,isAscending:!0,colorMode:"continents",isShowingPercentile:!0},r}return Object(r.a)(n,[{key:"getClassName",value:function(){return m()("WDVPGrid",this.props.className)}},{key:"componentDidMount",value:function(){this.createScales()}},{key:"render",value:function(){var e=this.state,t=e.processedData,n=e.metrics,a=e.selectedContinents,r=e.scales,i=e.sort,o=(e.hoveredCountry,e.colorMode),c=(e.isAscending,e.isShowingPercentile);return l.a.createElement("div",{className:this.getClassName()},l.a.createElement("h2",{className:"WDVPGrid__title"},"Country Metric Explorer"),l.a.createElement("div",{className:"WDVPGrid__contents"},l.a.createElement(v.a,{className:"WDVPGrid__toggle",options:S,value:a,onChange:this.onContinentsSelect,isMulti:!0,canClear:!0}),l.a.createElement(v.a,{className:"WDVPGrid__toggle",options:P,value:c,onChange:this.onIsShowingPercentileSelect}),l.a.createElement(v.a,{className:"WDVPGrid__toggle",options:w,value:o,onChange:this.onColorModeOptionsSelect}),l.a.createElement("div",{className:"WDVPGrid__chart"},l.a.createElement(O,{data:t,metrics:n,sort:i,scales:r,colorMode:o,isShowingPercentile:c,onCountryHover:this.onCountryHover,onMetricClick:this.onChangeSort}),l.a.createElement(C.a,{data:t,xMetric:n[0],yMetric:p.a.last(n)}))))}}]),n}(s.Component));t.default=E;var O=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={width:.9*window.innerWidth,height:.9*window.innerHeight,margins:{top:150,right:0,bottom:50,left:160}},e.container=l.a.createRef(),e.createScales=function(){var t=e.props,n=t.data,a=t.metrics,r=e.state,i=r.width,o=r.height,c=r.margins,s=o-c.top-c.bottom,l=i-c.left-c.right,u=Object(g.a)({domain:[0,n.length],range:[0,l]}),d=Object(g.a)({domain:[0,a.length],range:[s,0],orientation:"y"});e.setState({xScale:u,yScale:d},e.drawData)},e.drawData=function(){if(e.container.current){var t=e.props,n=t.data,a=t.metrics,r=t.scales,i=t.sort,o=t.colorMode,c=t.isShowingPercentile,s=t.onCountryHover,l=t.onMetricClick,d=e.state,h=(d.width,d.height,d.margins),m=d.xScale,f=d.yScale;if(!p.a.isEmpty(n)){var g=p.a.map(n,function(e,t){return{name:e.Country,metrics:p.a.map(a,function(n,a){return{metric:n,countryIndex:t,metricIndex:a,Continent:e.Continent,scaledValue:r[n](e[n]),percentileValue:(e["".concat(n,"__percentile")]-1)/100}})}}),v=u.select(e.container.current).on("mouseout",function(e){return s(null)}),y=m(1)-m(0),b=f(0)-f(1),C=v.selectAll(".WDVPGridChart__metric").data(a,function(e){return e});C.enter().append("text").attr("class","WDVPGridChart__metric").on("click",l).merge(C).style("fill",function(e){return e==i?"#45aeb1":"inherit"}).attr("x",-h.left).text(function(e){return e}).transition(u.transition().duration(900).ease(u.easeLinear)).delay(function(e,t){return 3*n.length+3*t+900}).attr("y",function(e,t){return f(a.length-t)+.6*b});var S=v.selectAll(".WDVPGridChart__country").data(g,function(e){return e.name}),P=S.enter().append("g").attr("class","WDVPGridChart__country").on("mouseover",function(e){return s(e.name)});P.append("text").attr("class","WDVPGridChart__country__text").text(function(e){return e.name}),S.merge(P).style("opacity",.2).transition(u.transition().duration(900).ease(u.easeLinear)).delay(function(e,t){return 3*t}).style("transform",function(e,t){return"translateX(".concat(m(t),"px)")}).style("opacity",1),S.exit().remove();var w=v.selectAll(".WDVPGridChart__country").selectAll(".WDVPGridChart__rect").data(function(e){return e.metrics},function(e){return e.metric}),M=function(e){return c?e.percentileValue:e.scaledValue};w.enter().append("rect").merge(w).attr("class","WDVPGridChart__rect").attr("width",y).attr("height",b).attr("fill",function(e){return p.a.isFinite(M(e))?"continents"==o?_[e.Continent](M(e)):x(M(e)):"#ccc"}).transition(u.transition().duration(900).ease(u.easeLinear)).delay(function(e,t){return 3*n.length+900}).attr("y",function(e){return f(a.length-e.metricIndex)}),w.exit().remove()}}},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.createScales()}},{key:"componentDidUpdate",value:function(e){e.data!=this.props.data&&this.createScales(),e.isShowingPercentile!=this.props.isShowingPercentile&&this.drawData(),e.Continent!=this.props.Continent&&this.drawData()}},{key:"render",value:function(){this.props.data;var e=this.state,t=e.width,n=e.height,a=e.margins;e.xScale,e.yScale;return l.a.createElement("svg",{height:n,width:t},l.a.createElement("g",{ref:this.container,style:{transform:"translate(".concat(a.left,"px, ").concat(a.top,"px)")}}))}}]),n}(s.Component)},621:function(e,t,n){"use strict";var a=n(75),r=n(17),i=n(13),o=n(41),c=n(42),s=n(0),l=n.n(s),u=n(216),d=n.n(u),h=(n(616),n(16)),m=n.n(h);n(4);n(622);var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:0,bottom:0};return Math.max(e-t.top-t.bottom,0)},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{left:0,right:0};return Math.max(e-t.left-t.right,0)},g=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).setSize=function(){if(a._isMounted){var e=a.props,t=e.height,n=e.width,r=e.margin;a.setState({height:f(t,r)}),a.setState({width:p(n,r)})}},a.state={height:a.props.height,width:a.props.width,isLoaded:!1},a}return Object(i.a)(n,[{key:"getClassName",value:function(){return d()("Chart",this.props.className)}},{key:"getWrapperStyle",value:function(){var e=this.props.margin,t="translate3d(".concat(e.left,"px, ").concat(e.top,"px, 0)");return{transform:t,WebkitTransform:t}}},{key:"componentWillMount",value:function(){this.setSize()}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._setSize=this.setSize,window.addEventListener("resize",this._setSize),setTimeout(function(){e.setState({isLoaded:!0})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,window.removeEventListener("resize",this._setSize)}},{key:"renderClipPath",value:function(){var e=this.state,t=e.height,n=e.width,a=this.props.margin;return l.a.createElement("clipPath",{id:"chartPath-clip"},l.a.createElement("rect",{className:"Chart__clip-path",x:a.left,y:a.top,height:t,width:n}))}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,a=e.margin,r=e.hasNoListener,i=e.children,o=(e.line,e.area,e.bar,e.xAxis,e.yAxis,e.brush,e.hasTooltip,e.onMouseMove),c=e.onMouseEnter,s=e.onMouseLeave;return l.a.createElement("div",{ref:"elem",className:this.getClassName()},l.a.createElement("svg",{className:"Chart__svg",height:t,width:n},l.a.createElement("defs",null,this.renderClipPath()),l.a.createElement("g",{className:"Chart__wrapper",style:this.getWrapperStyle()},i),!r&&l.a.createElement("rect",{className:"Chart__listener",x:a.left,y:a.top,height:f(t,a),width:p(n,a),onMouseMove:o,onMouseLeave:s,onMouseEnter:c})))}}]),n}(s.Component);g.defaultProps=Object(a.a)({height:200,width:600,margin:{top:0,right:0,bottom:0,left:0},onMouseMove:m.a.noop,onMouseEnter:m.a.noop},"onMouseEnter",m.a.noop),t.a=g},622:function(e,t,n){},625:function(e,t,n){"use strict";var a=n(75),r=n(17),i=n(13),o=n(41),c=n(42),s=n(0),l=n.n(s),u=n(216),d=n.n(u),h=n(4);n(627);var m={x:"bottom",y:"left"},f={top:"axisTop",left:"axisLeft",right:"axisRight",bottom:"axisBottom"},p=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).elem=l.a.createRef(),a.state={axis:null},a}return Object(i.a)(n,[{key:"getStyle",value:function(){var e=this.props,t=e.height,n=e.width,a=e.margin,r=e.dimension,i="x"==r?0:a.left?1:n,o="x"==r?t-a.top-a.bottom:0;return{transform:"translate3d(".concat(i,"px, ").concat(o,"px, 0)")}}},{key:"getOrientation",value:function(){var e=this.props;e.dimension;return e.orientation||m[this.props.dimension]||"left"}},{key:"update",value:function(e){var t=e||this.props,n=t.scale,a=(t.label,t.tickSize),r=t.tickSizeInner,i=t.tickSizeOuter,o=t.ticks,c=t.tickFrequency,s=t.tickPadding,l=t.tickArguments,u=t.format,d=t.initTransition,m=t.transition,p=this.state.axis;if(n){var g=!p;g&&(p=h[f[this.getOrientation()]]()),p.scale(n).tickSize(a).tickSizeInner(r).tickSizeOuter(i),l&&p.tickArguments(l),u&&p.tickFormat(u),o&&p.ticks(o,c),s&&p.tickPadding(s),h.select(this.elem.current).transition().duration(g?d:m).call(p),this.setState({axis:p})}}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentWillReceiveProps",value:function(e){this.update(e)}},{key:"renderLabel",value:function(){var e=this.props,t=e.dimension,n=e.label,a=e.width,r=e.hasInlineLabel,i="x"==t&&a-100||0,o="x"==t?-10:r?6:20,c={transform:"rotate(".concat("x"==t||r?0:-90,"deg)")};return l.a.createElement("text",{className:"Axis__label Axis--".concat(t?"".concat(t,"__"):"","label"),style:c,x:i,y:o},n)}},{key:"getClassName",value:function(){var e,t=this.props,n=t.dimension,r=t.hasInlineLabel,i=t.className;return d()("Axis",(e={},Object(a.a)(e,"Axis--".concat(n),n),Object(a.a)(e,"Axis--has-inline-label",r),e),i)}},{key:"render",value:function(){var e=this.props.label;return l.a.createElement("g",{ref:this.elem,className:this.getClassName(),style:this.getStyle()},!!e&&this.renderLabel())}}]),n}(s.Component);p.defaultProps={margin:{top:0,right:0,bottom:0,left:0},ticks:6,tickSize:0,tickSizeInner:6,tickSizeOuter:0,initTransition:300,transition:300},t.a=p},627:function(e,t,n){},628:function(e,t,n){"use strict";var a=n(7),r=n(17),i=n(13),o=n(41),c=n(42),s=n(0),l=n.n(s),u=n(216),d=n.n(u),h=n(16),m=n.n(h);n(640);var f=function(e){return m.a.isObject(e)?e.value:e},p=function(e,t){return f(e)==f(t)},g=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).onChange=function(t){return function(){var n=e.props,r=n.value,i=n.isMulti?t?r.map(f).includes(f(t))?m.a.filter(r,function(e){return!p(t,e)}):[].concat(Object(a.a)(r),[t]):[]:!t||p(r,t)?null:t;e.props.onChange(i)}},e.renderOption=function(t,n){var a=e.props,r=a.value,i=a.isMulti,o=d()("RadioGroup__option",{"RadioGroup__option--selected":i?r.map(f).includes(f(t)):p(t,r)});return l.a.createElement("div",{className:o,style:{color:t.color},onClick:e.onChange(t),key:n},m.a.isObject(t)&&t.label?t.label:f(t))},e.renderClear=function(){return l.a.createElement("div",{className:"RadioGroup__option RadioGroup__clear",onClick:e.onChange()},"x")},e}return Object(i.a)(n,[{key:"getClassName",value:function(){return d()("RadioGroup",this.props.className)}},{key:"render",value:function(){var e=this.props,t=e.options,n=e.canClear;e.isMulti;return l.a.createElement("div",{className:this.getClassName()},t.map(this.renderOption),n&&this.renderClear())}}]),n}(s.Component);g.defaultProps={options:[],isMulti:!1,canClear:!1,onChange:m.a.noop},t.a=g},640:function(e,t,n){},715:function(e,t,n){"use strict";var a=n(34),r=n(7),i=n(75),o=n(55),c=n(17),s=n(13),l=n(41),u=n(42),d=n(0),h=n.n(d),m=n(4),f=n(616),p=n.n(f),g=n(216),v=n.n(g),y=n(16),b=n.n(y),C=n(649),S=n(628),x=n(637),_=n(687),P=n(621),w=n(625),M=n(656),D=(n(772),function(e){return p()(e).format("0,0")}),E={top:20,right:20,bottom:50,left:50},O=[{code:"AS",value:"Asia",color:"#12CBC4"},{code:"EU",value:"Europe",color:"#B53471"},{code:"AF",value:"Africa",color:"#F79F1F"},{code:"NA",value:"North America",color:"#5758BB"},{code:"OC",value:"Oceania",color:"#1289A7"},{code:"SA",value:"South America",color:"#A3CB38"}],k=function(e){return b.a.isFinite(e)?e:b.a.isString(e)?+e.replace(/,/g,""):null},N=(b.a.map(["population","surface area (Km2)","happy planet index","human development index","world happiness report score","sustainable economic development assessment (SEDA)","GDP (billions PPP)","GDP per capita (PPP)","GDP growth (annual %)","health expenditure % of GDP","health expenditure per person","education expenditure % of GDP","education expenditure per person","school life expectancy (years)","unemployment (%)","government spending score","government expenditure (% of GDP)","political rights score","civil liberties score","political stability & absence of violence","government effectiveness","regulatory quality","rule of law","control of corruption","judicial effectiveness score","government integrity score","property rights score","tax burden score","overall economic freedom score","financial freedom score","women MPs (% of all MPs)","Area in km\xb2","Population","PCscore1","PCscore2","PCscore3","PCscore4","tSNE1","tSNE2"],function(e){return{value:e,label:e,color:"#114D4D"}}),b.a.fromPairs(b.a.map(O,function(e){return[e.code,e.color]}))),A=b.a.map(M,function(e){return{value:e.Country,label:e.Country,color:N[e.Continent]}}),j=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).chart=h.a.createRef(),a.scatter=h.a.createRef(),a.container=h.a.createRef(),a.componentWillUnmount=function(){window.removeEventListener("resize",a.onResize)},a.onResize=function(){var e=Math.min(.8*window.innerHeight,a.container.current.clientWidth),t=e;a.setState({width:e,height:t},a.createScales)},a.createScales=function(){var e=a.props.data,t=a.state,n=t.width,r=t.height,i=(t.selectedCountries,t.selectedContinents),o=(t.selectedGroups,b.a.map(i,"code")),c=b.a.filter(e,function(e){return b.a.isEmpty(i)||b.a.includes(o,e.Continent)}),s={x:Object(C.a)({width:n,margin:E,clamp:!1,dimension:"x",domain:m.extent(c,a.xAccessor)}),y:Object(C.a)({height:r,margin:E,clamp:!1,dimension:"y",domain:m.extent(c,a.yAccessor)})},l=a.state.iteration+1;a.setState({scales:s,filteredData:c,iteration:l})},a.onDotsUpdate=function(e){e.style("fill",function(e){return N[e.Continent]}).style("opacity",1)},a.xAccessor=function(e){return k(e[a.props.xMetric])},a.yAccessor=function(e){return k(e[a.props.yMetric])},a.xAccessorScaled=function(e,t){return a.state.scales.x&&a.state.scales.x(a.xAccessor(e))},a.yAccessorScaled=function(e){return a.state.scales.y&&a.state.scales.y(a.yAccessor(e))},a.onMouseMove=function(e,t){if(a.chart&&a.chart.current){var n=a.state,r=n.width,i=n.scales,c=n.filteredData;if(a.isHoveringChart){var s=e-a.chart.current.getBoundingClientRect().left-E.left,l=Math.round(i.x.invert(s))+1926,u=t-a.chart.current.getBoundingClientRect().top-E.top,d=i.y.invert(u),h=b.a.map(c,function(e){return Object(o.a)(Object(o.a)({},e),{},{value:e.GDP,distanceFromY:d-e.GDP,absDistanceFromY:Math.abs(d-e.GDP)})}),m=b.a.map(b.a.orderBy(h,"GDP","desc"),function(e,t){return Object(o.a)(Object(o.a)({},e),{},{index:t+1})}),f=b.a.orderBy(m,"distanceFromY","asc"),p=b.a.orderBy(m,"absDistanceFromY","asc"),g=b.a.get(p,[0,"Country"]),v=b.a.findIndex(f,{country:g}),y=Math.max(Math.min(v,f.length-3),3),C=s,S={countries:b.a.map(f.slice(y-3,y+3),function(e,t){return Object(o.a)(Object(o.a)({},e),{},{isSelected:y+t-3==v})}),year:l,y:u,x:C,boundedX:Math.max(Math.min(r-200,C),0)};a.setState({tooltipInfo:S,closestCountries:g})}}},a.throttledOnMouseMove=b.a.throttle(a.onMouseMove,90),a.persistedOnMouseMove=function(e){return a.throttledOnMouseMove(e.clientX,e.clientY)},a.onMouseEnter=function(){return a.isHoveringChart=!0},a.clearTooltip=function(){a.isHoveringChart=!1,a.setState({tooltipInfo:null,closestCountries:null})},a.onCountriesSelect=function(e){a.setState({selectedCountries:e},a.createScales),a.props.onHighlightedCountriesChange&&a.props.onHighlightedCountriesChange(e)},a.onContinentsSelect=function(e){return a.setState({selectedContinents:e},a.createScales)},a.onMetricChange=function(e){return function(t){return a.setState(Object(i.a)({},"".concat(e,"Metric"),t.value),a.createScales)}},a.onMouseEnterPoint=function(e){return function(){var t=b.a.uniqBy([].concat(Object(r.a)(a.state.showingPointLabels),[e]),"Country");a.setState({showingPointLabels:t})}},a.onMouseLeavePoint=function(e){return function(){var t=b.a.reject(a.state.showingPointLabels,{Country:e.Country});a.setState({showingPointLabels:t})}},a.state={height:0,width:0,filteredData:[],tooltipInfo:null,closestCountries:null,selectedCountries:[],selectedContinents:[],iteration:0,showingPointLabels:{},scales:{},hoveredCountry:null,iterator:0},a}return Object(s.a)(n,[{key:"getClassName",value:function(){return v()("WDVPScatter",this.props.className)}},{key:"componentDidMount",value:function(){this.onResize(),window.addEventListener("resize",this.onResize)}},{key:"componentDidUpdate",value:function(e){this.props.data==e.data&&this.props.xMetric==e.xMetric&&this.props.yMetric==e.yMetric||this.createScales()}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=(t.xMetric,t.yMetric,t.angleOfMostVariance),r=(t.vectorOfMostVariance,this.state),i=r.height,o=r.width,c=r.scales,s=r.tooltipInfo,l=r.selectedCountries,u=r.selectedContinents,d=r.filteredData,m=(r.iteration,r.showingPointLabels,b.a.map(l,"value")),f=c.x&&c.x(b.a.meanBy(n,"xValue")),p=c.y&&c.y(b.a.meanBy(n,"yValue"));return h.a.createElement("div",{className:this.getClassName()},h.a.createElement("div",{className:"WDVPScatter__contents"},h.a.createElement("div",{className:"WDVPScatter__controls"},h.a.createElement("div",{className:"WDVPScatter__sentence"},"Show me countries in",h.a.createElement(S.a,{className:"WDVPScatter__toggle",options:O,value:u,onChange:this.onContinentsSelect,isMulti:!0,canClear:!0})),h.a.createElement("div",{className:"WDVPScatter__aside"},"I'm especially interested in",h.a.createElement(x.a,{isMulti:!0,name:"countries",options:A,value:l,className:"WDVPScatter__select",classNamePrefix:"WDVPScatter__select",styles:_.a,onChange:this.onCountriesSelect})))),h.a.createElement("div",{className:"WDVPScatter__chart-wrapper",ref:this.container,style:{}},h.a.createElement(P.a,{height:i,width:o,margin:E,ref:this.chart},h.a.createElement(w.a,{dimension:"x",height:i,width:o,margin:E,scale:c.x,format:D,label:"x axis weights"}),h.a.createElement(w.a,{dimension:"y",height:i,margin:E,scale:c.y,format:D,label:"y axis weights"}),b.a.map(d,function(t){return h.a.createElement(V,{key:t.Country,name:t.Country,color:N[t.Continent],x:e.xAccessorScaled(t),y:e.yAccessorScaled(t),isSelected:b.a.includes(m,t.Country)})}),b.a.map(d,function(t){return h.a.createElement(G,{key:t.Country,name:t.Country,color:N[t.Continent],x:e.xAccessorScaled(t),y:e.yAccessorScaled(t),isSelected:b.a.includes(m,t.Country),isShowingLabels:d.length<55})}),s&&h.a.createElement("rect",{className:"WDVPScatter__crosshair",x:s.x,y:E.top,width:1,height:i-E.top-E.bottom}),b.a.isFinite(a)&&b.a.isFinite(f)&&h.a.createElement(L,{angle:a,meanX:f,meanY:p,width:o,height:i,margin:E})),s&&h.a.createElement(W,Object.assign({style:{transform:"translate3d(calc(-50% + ".concat(s.boundedX,"px), calc(-100% + ").concat(s.y,"px), 0)")}},s))))}}]),n}(d.Component);j.defaultProps={data:[]},t.a=j;var W=function(e){var t=e.continents,n=e.year,r=(e.x,e.boundedX,e.y,Object(a.a)(e,["continents","year","x","boundedX","y"]));return h.a.createElement("div",Object.assign({className:"WDVPScatterTooltip"},r),h.a.createElement("h6",{className:"WDVPScatterTooltip__header"},n),h.a.createElement("div",{className:"WDVPScatterTooltip__continents"},b.a.map(t,function(e){return b.a.isObject(e)&&h.a.createElement("div",{className:"WDVPScatterTooltip__continent WDVPScatterTooltip__continent--is-".concat(e.isSelected?"selected":"not-selected"),key:e.continent},h.a.createElement("div",{className:"WDVPScatterTooltip__continent-color",style:{background:N[e]}}),h.a.createElement("div",{className:"WDVPScatterTooltip__continent__index"},e.index,"."),h.a.createElement("div",{className:"WDVPScatterTooltip__continent__label"},e.continent),h.a.createElement("div",{className:"WDVPScatterTooltip__continent__value"},D(e.value)))})))},V=h.a.memo(function(e){var t=e.color,n=e.x,a=e.y;return b.a.isFinite(n)&&b.a.isFinite(a)&&h.a.createElement("circle",{className:"WDVPScatterCountry",cx:n,cy:a,r:5,fill:t})}),G=h.a.memo(function(e){var t=e.name,n=(e.color,e.x),a=e.y,r=e.isSelected,i=e.isShowingLabels;return b.a.isFinite(n)&&b.a.isFinite(a)&&h.a.createElement("g",{className:"WDVPScatterCountryHighlight"},h.a.createElement("circle",{className:"WDVPScatterCountryHighlight__outline",cx:n,cy:a,r:9,style:{fill:"transparent",stroke:r?"#114D4D":"transparent",strokeWidth:4}}),h.a.createElement("g",{className:"WDVPScatterCountryHighlight__text-wrapper",style:{opacity:i||r?1:0}},h.a.createElement("text",{className:"WDVPScatterCountryHighlight__text",x:n,y:a-13,stroke:"white",strokeWidth:"3"},t),h.a.createElement("text",{className:"WDVPScatterCountryHighlight__text",x:n,y:a-13,stroke:"0",fill:"black"},t)))}),L=function(e){var t=e.angle,n=e.meanX,a=e.meanY,r=e.width,i=e.height,o=e.margin,c=r-o.left-o.right,s=i-o.top-o.bottom,l=n+c/2*Math.cos(t/180*Math.PI),u=a-s/2*Math.sin(t/180*Math.PI),d=n-c/2*Math.cos(t/180*Math.PI),m=a+s/2*Math.sin(t/180*Math.PI);return h.a.createElement("g",{style:{}},h.a.createElement("line",{className:"WDVPScatter__line",x1:l,y1:u,x2:d,y2:m,stroke:"black"}))}},716:function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(615),r=n(620),i=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(a.a);t.a=Object(r.a)(i)},772:function(e,t,n){}}]);
//# sourceMappingURL=38.6f8a22ee.chunk.js.map