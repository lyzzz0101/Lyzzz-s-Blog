{"version":3,"file":"static/js/572.ff5e3c6e.chunk.js","mappings":"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","sources":["../node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js"],"sourcesContent":["import _toConsumableArray from \"/Users/ze/codespace/blog/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"/Users/ze/codespace/blog/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _objectSpread from \"/Users/ze/codespace/blog/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/ze/codespace/blog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _typeof from \"/Users/ze/codespace/blog/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport { C } from \"./stegaClean.js\";\nvar reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/;\nfunction isKeySegment(segment) {\n  return typeof segment == \"string\" ? reKeySegment.test(segment.trim()) : _typeof(segment) == \"object\" && \"_key\" in segment;\n}\nfunction toString(path) {\n  if (!Array.isArray(path)) throw new Error(\"Path is not an array\");\n  return path.reduce(function (target, segment, i) {\n    var segmentType = _typeof(segment);\n    if (segmentType === \"number\") return \"\".concat(target, \"[\").concat(segment, \"]\");\n    if (segmentType === \"string\") return \"\".concat(target).concat(i === 0 ? \"\" : \".\").concat(segment);\n    if (isKeySegment(segment) && segment._key) return \"\".concat(target, \"[_key==\\\"\").concat(segment._key, \"\\\"]\");\n    if (Array.isArray(segment)) {\n      var _segment = _slicedToArray(segment, 2),\n        from = _segment[0],\n        to = _segment[1];\n      return \"\".concat(target, \"[\").concat(from, \":\").concat(to, \"]\");\n    }\n    throw new Error(\"Unsupported path segment `\".concat(JSON.stringify(segment), \"`\"));\n  }, \"\");\n}\nvar ESCAPE = {\n    \"\\f\": \"\\\\f\",\n    \"\\n\": \"\\\\n\",\n    \"\\r\": \"\\\\r\",\n    \"\t\": \"\\\\t\",\n    \"'\": \"\\\\'\",\n    \"\\\\\": \"\\\\\\\\\"\n  },\n  UNESCAPE = {\n    \"\\\\f\": \"\\f\",\n    \"\\\\n\": \"\\n\",\n    \"\\\\r\": \"\\r\",\n    \"\\\\t\": \"\t\",\n    \"\\\\'\": \"'\",\n    \"\\\\\\\\\": \"\\\\\"\n  };\nfunction jsonPath(path) {\n  return \"$\".concat(path.map(function (segment) {\n    return typeof segment == \"string\" ? \"['\".concat(segment.replace(/[\\f\\n\\r\\t'\\\\]/g, function (match) {\n      return ESCAPE[match];\n    }), \"']\") : typeof segment == \"number\" ? \"[\".concat(segment, \"]\") : segment._key !== \"\" ? \"[?(@._key=='\".concat(segment._key.replace(/['\\\\]/g, function (match) {\n      return ESCAPE[match];\n    }), \"')]\") : \"[\".concat(segment._index, \"]\");\n  }).join(\"\"));\n}\nfunction parseJsonPath(path) {\n  var parsed = [],\n    parseRe = /\\['(.*?)'\\]|\\[(\\d+)\\]|\\[\\?\\(@\\._key=='(.*?)'\\)\\]/g;\n  var match;\n  for (; (match = parseRe.exec(path)) !== null;) {\n    if (match[1] !== void 0) {\n      var key = match[1].replace(/\\\\(\\\\|f|n|r|t|')/g, function (m) {\n        return UNESCAPE[m];\n      });\n      parsed.push(key);\n      continue;\n    }\n    if (match[2] !== void 0) {\n      parsed.push(parseInt(match[2], 10));\n      continue;\n    }\n    if (match[3] !== void 0) {\n      var _key = match[3].replace(/\\\\(\\\\')/g, function (m) {\n        return UNESCAPE[m];\n      });\n      parsed.push({\n        _key: _key,\n        _index: -1\n      });\n      continue;\n    }\n  }\n  return parsed;\n}\nfunction jsonPathToStudioPath(path) {\n  return path.map(function (segment) {\n    if (typeof segment == \"string\" || typeof segment == \"number\") return segment;\n    if (segment._key !== \"\") return {\n      _key: segment._key\n    };\n    if (segment._index !== -1) return segment._index;\n    throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n  });\n}\nfunction jsonPathToMappingPath(path) {\n  return path.map(function (segment) {\n    if (typeof segment == \"string\" || typeof segment == \"number\") return segment;\n    if (segment._index !== -1) return segment._index;\n    throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n  });\n}\nfunction resolveMapping(resultPath, csm) {\n  if (!(csm !== null && csm !== void 0 && csm.mappings)) return;\n  var resultMappingPath = jsonPath(jsonPathToMappingPath(resultPath));\n  if (csm.mappings[resultMappingPath] !== void 0) return {\n    mapping: csm.mappings[resultMappingPath],\n    matchedPath: resultMappingPath,\n    pathSuffix: \"\"\n  };\n  var mappings = Object.entries(csm.mappings).filter(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n      key = _ref2[0];\n    return resultMappingPath.startsWith(key);\n  }).sort(function (_ref3, _ref4) {\n    var _ref5 = _slicedToArray(_ref3, 1),\n      key1 = _ref5[0];\n    var _ref6 = _slicedToArray(_ref4, 1),\n      key2 = _ref6[0];\n    return key2.length - key1.length;\n  });\n  if (mappings.length == 0) return;\n  var _mappings$ = _slicedToArray(mappings[0], 2),\n    matchedPath = _mappings$[0],\n    mapping = _mappings$[1],\n    pathSuffix = resultMappingPath.substring(matchedPath.length);\n  return {\n    mapping: mapping,\n    matchedPath: matchedPath,\n    pathSuffix: pathSuffix\n  };\n}\nfunction isArray(value) {\n  return value !== null && Array.isArray(value);\n}\nfunction isRecord(value) {\n  return _typeof(value) == \"object\" && value !== null;\n}\nfunction walkMap(value, mappingFn) {\n  var path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  return isArray(value) ? value.map(function (v, idx) {\n    if (isRecord(v)) {\n      var _key = v._key;\n      if (typeof _key == \"string\") return walkMap(v, mappingFn, path.concat({\n        _key: _key,\n        _index: idx\n      }));\n    }\n    return walkMap(v, mappingFn, path.concat(idx));\n  }) : isRecord(value) ? Object.fromEntries(Object.entries(value).map(function (_ref7) {\n    var _ref8 = _slicedToArray(_ref7, 2),\n      k = _ref8[0],\n      v = _ref8[1];\n    return [k, walkMap(v, mappingFn, path.concat(k))];\n  })) : mappingFn(value, path);\n}\nfunction encodeIntoResult(result, csm, encoder) {\n  return walkMap(result, function (value, path) {\n    if (typeof value != \"string\") return value;\n    var resolveMappingResult = resolveMapping(path, csm);\n    if (!resolveMappingResult) return value;\n    var mapping = resolveMappingResult.mapping,\n      matchedPath = resolveMappingResult.matchedPath;\n    if (mapping.type !== \"value\" || mapping.source.type !== \"documentValue\") return value;\n    var sourceDocument = csm.documents[mapping.source.document],\n      sourcePath = csm.paths[mapping.source.path],\n      matchPathSegments = parseJsonPath(matchedPath),\n      fullSourceSegments = parseJsonPath(sourcePath).concat(path.slice(matchPathSegments.length));\n    return encoder({\n      sourcePath: fullSourceSegments,\n      sourceDocument: sourceDocument,\n      resultPath: path,\n      value: value\n    });\n  });\n}\nvar DRAFTS_PREFIX = \"drafts.\";\nfunction getPublishedId(id) {\n  return id.startsWith(DRAFTS_PREFIX) ? id.slice(DRAFTS_PREFIX.length) : id;\n}\nfunction createEditUrl(options) {\n  var baseUrl = options.baseUrl,\n    _options$workspace = options.workspace,\n    _workspace = _options$workspace === void 0 ? \"default\" : _options$workspace,\n    _options$tool = options.tool,\n    _tool = _options$tool === void 0 ? \"default\" : _options$tool,\n    _id = options.id,\n    type = options.type,\n    path = options.path,\n    projectId = options.projectId,\n    dataset = options.dataset;\n  if (!baseUrl) throw new Error(\"baseUrl is required\");\n  if (!path) throw new Error(\"path is required\");\n  if (!_id) throw new Error(\"id is required\");\n  if (baseUrl !== \"/\" && baseUrl.endsWith(\"/\")) throw new Error(\"baseUrl must not end with a slash\");\n  var workspace = _workspace === \"default\" ? void 0 : _workspace,\n    tool = _tool === \"default\" ? void 0 : _tool,\n    id = getPublishedId(_id),\n    stringifiedPath = Array.isArray(path) ? toString(jsonPathToStudioPath(path)) : path,\n    searchParams = new URLSearchParams({\n      baseUrl: baseUrl,\n      id: id,\n      type: type,\n      path: stringifiedPath\n    });\n  workspace && searchParams.set(\"workspace\", workspace), tool && searchParams.set(\"tool\", tool), projectId && searchParams.set(\"projectId\", projectId), dataset && searchParams.set(\"dataset\", dataset), _id.startsWith(DRAFTS_PREFIX) && searchParams.set(\"isDraft\", \"\");\n  var segments = [baseUrl === \"/\" ? \"\" : baseUrl];\n  workspace && segments.push(workspace);\n  var routerParams = [\"mode=presentation\", \"id=\".concat(id), \"type=\".concat(type), \"path=\".concat(encodeURIComponent(stringifiedPath))];\n  return tool && routerParams.push(\"tool=\".concat(tool)), segments.push(\"intent\", \"edit\", \"\".concat(routerParams.join(\";\"), \"?\").concat(searchParams)), segments.join(\"/\");\n}\nfunction resolveStudioBaseRoute(studioUrl) {\n  var baseUrl = typeof studioUrl == \"string\" ? studioUrl : studioUrl.baseUrl;\n  return baseUrl !== \"/\" && (baseUrl = baseUrl.replace(/\\/$/, \"\")), typeof studioUrl == \"string\" ? {\n    baseUrl: baseUrl\n  } : _objectSpread(_objectSpread({}, studioUrl), {}, {\n    baseUrl: baseUrl\n  });\n}\nvar filterDefault = function filterDefault(_ref9) {\n    var sourcePath = _ref9.sourcePath,\n      resultPath = _ref9.resultPath,\n      value = _ref9.value;\n    if (isValidDate(value) || isValidURL(value)) return !1;\n    var endPath = sourcePath.at(-1);\n    return !(sourcePath.at(-2) === \"slug\" && endPath === \"current\" || typeof endPath == \"string\" && endPath.startsWith(\"_\") || typeof endPath == \"number\" && sourcePath.at(-2) === \"marks\" || endPath === \"href\" && typeof sourcePath.at(-2) == \"number\" && sourcePath.at(-3) === \"markDefs\" || endPath === \"style\" || endPath === \"listItem\" || sourcePath.some(function (path) {\n      return path === \"meta\" || path === \"metadata\" || path === \"openGraph\" || path === \"seo\";\n    }) || hasTypeLike(sourcePath) || hasTypeLike(resultPath) || typeof endPath == \"string\" && denylist.has(endPath));\n  },\n  denylist = /* @__PURE__ */new Set([\"color\", \"colour\", \"currency\", \"email\", \"format\", \"gid\", \"hex\", \"href\", \"hsl\", \"hsla\", \"icon\", \"id\", \"index\", \"key\", \"language\", \"layout\", \"link\", \"linkAction\", \"locale\", \"lqip\", \"page\", \"path\", \"ref\", \"rgb\", \"rgba\", \"route\", \"secret\", \"slug\", \"status\", \"tag\", \"template\", \"theme\", \"type\", \"unit\", \"url\", \"username\", \"variant\", \"website\"]);\nfunction isValidDate(dateString) {\n  return /^\\d{4}-\\d{2}-\\d{2}/.test(dateString) ? !!Date.parse(dateString) : !1;\n}\nfunction isValidURL(url) {\n  try {\n    new URL(url, url.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n  } catch (_unused) {\n    return !1;\n  }\n  return !0;\n}\nfunction hasTypeLike(path) {\n  return path.some(function (segment) {\n    return typeof segment == \"string\" && segment.match(/type/i) !== null;\n  });\n}\nvar TRUNCATE_LENGTH = 20;\nfunction stegaEncodeSourceMap(result, resultSourceMap, config) {\n  var _logger$error2;\n  var filter = config.filter,\n    logger = config.logger,\n    enabled = config.enabled;\n  if (!enabled) {\n    var _logger$error;\n    var msg = \"config.enabled must be true, don't call this function otherwise\";\n    throw logger !== null && logger !== void 0 && (_logger$error = logger.error) !== null && _logger$error !== void 0 && _logger$error.call(logger, \"[@sanity/client]: \".concat(msg), {\n      result: result,\n      resultSourceMap: resultSourceMap,\n      config: config\n    }), new TypeError(msg);\n  }\n  if (!resultSourceMap) return logger !== null && logger !== void 0 && (_logger$error2 = logger.error) !== null && _logger$error2 !== void 0 && _logger$error2.call(logger, \"[@sanity/client]: Missing Content Source Map from response body\", {\n    result: result,\n    resultSourceMap: resultSourceMap,\n    config: config\n  }), result;\n  if (!config.studioUrl) {\n    var _logger$error3;\n    var _msg = \"config.studioUrl must be defined\";\n    throw logger !== null && logger !== void 0 && (_logger$error3 = logger.error) !== null && _logger$error3 !== void 0 && _logger$error3.call(logger, \"[@sanity/client]: \".concat(_msg), {\n      result: result,\n      resultSourceMap: resultSourceMap,\n      config: config\n    }), new TypeError(_msg);\n  }\n  var report = {\n      encoded: [],\n      skipped: []\n    },\n    resultWithStega = encodeIntoResult(result, resultSourceMap, function (_ref10) {\n      var sourcePath = _ref10.sourcePath,\n        sourceDocument = _ref10.sourceDocument,\n        resultPath = _ref10.resultPath,\n        value = _ref10.value;\n      if ((typeof filter == \"function\" ? filter({\n        sourcePath: sourcePath,\n        resultPath: resultPath,\n        filterDefault: filterDefault,\n        sourceDocument: sourceDocument,\n        value: value\n      }) : filterDefault({\n        sourcePath: sourcePath,\n        resultPath: resultPath,\n        filterDefault: filterDefault,\n        sourceDocument: sourceDocument,\n        value: value\n      })) === !1) return logger && report.skipped.push({\n        path: prettyPathForLogging(sourcePath),\n        value: \"\".concat(value.slice(0, TRUNCATE_LENGTH)).concat(value.length > TRUNCATE_LENGTH ? \"...\" : \"\"),\n        length: value.length\n      }), value;\n      logger && report.encoded.push({\n        path: prettyPathForLogging(sourcePath),\n        value: \"\".concat(value.slice(0, TRUNCATE_LENGTH)).concat(value.length > TRUNCATE_LENGTH ? \"...\" : \"\"),\n        length: value.length\n      });\n      var _resolveStudioBaseRou = resolveStudioBaseRoute(typeof config.studioUrl == \"function\" ? config.studioUrl(sourceDocument) : config.studioUrl),\n        baseUrl = _resolveStudioBaseRou.baseUrl,\n        workspace = _resolveStudioBaseRou.workspace,\n        tool = _resolveStudioBaseRou.tool;\n      if (!baseUrl) return value;\n      var id = sourceDocument._id,\n        type = sourceDocument._type,\n        projectId = sourceDocument._projectId,\n        dataset = sourceDocument._dataset;\n      return C(value, {\n        origin: \"sanity.io\",\n        href: createEditUrl(_objectSpread({\n          baseUrl: baseUrl,\n          workspace: workspace,\n          tool: tool,\n          id: id,\n          type: type,\n          path: sourcePath\n        }, !config.omitCrossDatasetReferenceData && {\n          dataset: dataset,\n          projectId: projectId\n        }))\n      },\n      // We use custom logic to determine if we should skip encoding\n      !1);\n    });\n  if (logger) {\n    var _ref11, _logger$log, _logger$log2, _ref12, _logger$groupEnd;\n    var isSkipping = report.skipped.length,\n      isEncoding = report.encoded.length;\n    if ((isSkipping || isEncoding) && ((_ref11 = (logger === null || logger === void 0 ? void 0 : logger.groupCollapsed) || logger.log) !== null && _ref11 !== void 0 && _ref11(\"[@sanity/client]: Encoding source map into result\"), (_logger$log = logger.log) !== null && _logger$log !== void 0 && _logger$log.call(logger, \"[@sanity/client]: Paths encoded: \".concat(report.encoded.length, \", skipped: \").concat(report.skipped.length))), report.encoded.length > 0 && (logger !== null && logger !== void 0 && (_logger$log2 = logger.log) !== null && _logger$log2 !== void 0 && _logger$log2.call(logger, \"[@sanity/client]: Table of encoded paths\"), (_ref12 = (logger === null || logger === void 0 ? void 0 : logger.table) || logger.log) !== null && _ref12 !== void 0 && _ref12(report.encoded)), report.skipped.length > 0) {\n      var _logger$log3;\n      var skipped = /* @__PURE__ */new Set();\n      var _iterator = _createForOfIteratorHelper(report.skipped),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var path = _step.value.path;\n          skipped.add(path.replace(reKeySegment, \"0\").replace(/\\[\\d+\\]/g, \"[]\"));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      logger === null || logger === void 0 ? void 0 : (_logger$log3 = logger.log) === null || _logger$log3 === void 0 ? void 0 : _logger$log3.call(logger, \"[@sanity/client]: List of skipped paths\", _toConsumableArray(skipped.values()));\n    }\n    (isSkipping || isEncoding) && (logger === null || logger === void 0 ? void 0 : (_logger$groupEnd = logger.groupEnd) === null || _logger$groupEnd === void 0 ? void 0 : _logger$groupEnd.call(logger));\n  }\n  return resultWithStega;\n}\nfunction prettyPathForLogging(path) {\n  return toString(jsonPathToStudioPath(path));\n}\nvar stegaEncodeSourceMap$1 = /* @__PURE__ */Object.freeze({\n  __proto__: null,\n  stegaEncodeSourceMap: stegaEncodeSourceMap\n});\nexport { encodeIntoResult, stegaEncodeSourceMap, stegaEncodeSourceMap$1 };"],"names":["reKeySegment","toString","path","Array","isArray","Error","reduce","target","segment","i","segmentType","concat","test","trim","isKeySegment","_key","_segment","from","to","JSON","stringify","ESCAPE","UNESCAPE","parseJsonPath","match","parsed","parseRe","exec","replace","m","push","_index","parseInt","key","jsonPathToStudioPath","map","resolveMapping","resultPath","csm","mappings","resultMappingPath","join","jsonPath","mapping","matchedPath","pathSuffix","Object","entries","filter","_ref","startsWith","sort","_ref3","_ref4","key1","length","_mappings$","substring","isRecord","value","walkMap","mappingFn","arguments","undefined","v","idx","fromEntries","_ref7","_ref8","k","encodeIntoResult","result","encoder","resolveMappingResult","type","source","sourceDocument","documents","document","sourcePath","paths","matchPathSegments","fullSourceSegments","slice","DRAFTS_PREFIX","createEditUrl","options","baseUrl","_options$workspace","workspace","_workspace","_options$tool","tool","_tool","_id","id","projectId","dataset","endsWith","getPublishedId","stringifiedPath","searchParams","URLSearchParams","set","segments","routerParams","encodeURIComponent","filterDefault","_ref9","dateString","Date","parse","url","URL","_unused","isValidURL","endPath","at","some","hasTypeLike","denylist","has","Set","TRUNCATE_LENGTH","stegaEncodeSourceMap","resultSourceMap","config","_logger$error2","logger","enabled","_logger$error","msg","error","call","TypeError","studioUrl","_logger$error3","_msg","report","encoded","skipped","resultWithStega","_ref10","prettyPathForLogging","_resolveStudioBaseRou","resolveStudioBaseRoute","_type","_projectId","_dataset","C","origin","href","omitCrossDatasetReferenceData","_ref11","_logger$log","_logger$log2","_ref12","_logger$groupEnd","isSkipping","isEncoding","groupCollapsed","log","table","_logger$log3","_step","_iterator","s","n","done","add","err","e","f","values","groupEnd","stegaEncodeSourceMap$1","freeze","__proto__"],"sourceRoot":""}