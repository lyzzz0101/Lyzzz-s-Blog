(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{1281:function(e,t,a){e.exports=a.p+"static/media/lincoln.0a9ac95e.png"},1282:function(e,t,a){},1311:function(e,t,a){"use strict";a.r(t);var n=a(22),o=a.n(n),r=a(257),l=a(55),i=a(6),c=a(0),s=a.n(c),u=a(16),m=a.n(u),h=a(673),d=a(95),f=a(701),v=a(33),b=(a(638),a(1291)),_=a(1281),p=a.n(_),g=(a(1282),[{id:"delaunay",label:"delaunay"},{id:"voronoi",label:"voronoi"}]);t.default=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),a=Object(c.useState)(900),n=Object(i.a)(a,2),u=n[0],_=(n[1],Object(c.useState)(900)),E=Object(i.a)(_,2),j=E[0],O=E[1],N=Object(c.useState)(1),P=Object(i.a)(N,2),y=P[0],w=P[1],C=Object(c.useState)(2),k=Object(i.a)(C,2),x=k[0],S=k[1],D=Object(c.useState)(null),R=Object(i.a)(D,2),B=R[0],I=R[1],U=Object(c.useState)("voronoi"),A=Object(i.a)(U,2),L=A[0],M=A[1],W=Object(c.useState)([]),G=Object(i.a)(W,2),F=G[0],H=G[1],J=Object(c.useState)(p.a),T=Object(i.a)(J,2),V=T[0],Y=T[1],q=Object(c.useState)(30),z=Object(i.a)(q,2),K=z[0],Q=z[1],X=Object(c.useState)(0),Z=Object(i.a)(X,2),$=Z[0],ee=Z[1];Object(c.useEffect)(function(){!K||!isFinite(K)||K<1||!x||!isFinite(x)||x<1||te()},[K,x,L,B]);var te=function(){var t=new window.Image;t.crossOrigin="*",t.src=B||V;var a=e.current.getContext("2d");a.clearRect(0,0,u,j),t.onload=function(){var e=900/t.naturalWidth,n=t.naturalHeight*e;O(n),a.drawImage(t,0,0,u,n);var o=a.getImageData(0,0,u,n),r=Array.from(o.data),l=4*u,i=Math.floor(r.length/l),c=(Math.floor(r.length/(4*n)),m.a.times(i,function(e){var t=r.slice(l*e,l*(e+1));return m.a.times(t.length/4,function(e){return{r:t[4*e+0],g:t[4*e+1],b:t[4*e+2],a:t[4*e+3]}})}));H(c)}},ae=Object(c.useMemo)(function(){if(!F.length)return{dots:[],voronoiPaths:[]};var e=[];F.forEach(function(t,a){a%x||t.forEach(function(t,n){if(!(n%x)&&!(t.a<100)){var o=t.r+t.b+t.g;Math.random()*o<K&&e.push({x:n,y:a,color:t})}})});var t=b.a.from(e,function(e){return e.x},function(e){return e.y}),a=t.voronoi([0,0,u,j]),n=e.map(function(e,t){return Object(l.a)({d:a.renderCell(t)},e)}),o="delaunay"==L?t.render():a.render();return{dots:e,voronoiPaths:n,voronoiPath:o}},[F]),ne=(ae.dots,ae.voronoiPaths,ae.voronoiPath),oe=function(){var e=Object(r.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.files[0],t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:I(URL.createObjectURL(t.target.files[0]));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"Photoronoi"},s.a.createElement("h3",null,"Photoronoi"),s.a.createElement("p",null,"Upload an image or grab from a url to turn an image into a voronoi SVG."),s.a.createElement("p",null,"Darker parts of the image result in smaller polygons - play around with the settings to see what works best for your picture! You might try removing the background of your image using ",s.a.createElement("a",{href:"http://remove.bg"},"remove.bg"),"."),s.a.createElement("div",{className:"Photoronoi__controls"},s.a.createElement("div",{className:"Photoronoi__field"},s.a.createElement("label",null,"Image url"),s.a.createElement("div",{className:"Photoronoi__field__value"},s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),te()}},s.a.createElement("input",{value:V,placeholder:"Image url",onChange:function(e){I(null),Y(e.target.value)}}),s.a.createElement(d.a,{type:"submit"},"Grab")))),s.a.createElement("div",{className:"Photoronoi__field"},s.a.createElement("label",null,"Upload"),s.a.createElement("div",{className:"Photoronoi__field__value"},s.a.createElement("div",{className:"Photoronoi__file"},s.a.createElement("input",{name:"Photoronoi__file",id:"Photoronoi__file",type:"file",onChange:oe}),s.a.createElement("label",{for:"Photoronoi__file"},s.a.createElement(d.a,null,s.a.createElement(v.a,{name:"upload"})))))),s.a.createElement("div",{className:"Photoronoi__field"},s.a.createElement("label",null,"Darkness threshold"),s.a.createElement("div",{className:"Photoronoi__field__value"},s.a.createElement("input",{value:K,placeholder:"threshold",type:"number",onChange:function(e){var t=e.target.value;Q(t)}}))),s.a.createElement("div",{className:"Photoronoi__field"},s.a.createElement("label",null,"Image opacity"),s.a.createElement("div",{className:"Photoronoi__field__value"},s.a.createElement(h.b,{className:"Photoronoi__slider",value:$,min:0,max:1,step:.05,onChange:ee,pushable:!0}))),s.a.createElement("div",{className:"Photoronoi__field"},s.a.createElement("label",null,"Stroke Width"),s.a.createElement("div",{className:"Photoronoi__field__value"},s.a.createElement(h.b,{className:"Photoronoi__slider",value:y,min:0,max:6,step:.5,onChange:w,pushable:!0}))),s.a.createElement("div",{className:"Photoronoi__field"},s.a.createElement("label",null,"Dots Resolution"),s.a.createElement("div",{className:"Photoronoi__field__value"},s.a.createElement(h.b,{className:"Photoronoi__slider",value:x,min:1,max:10,step:1,onChange:S,pushable:!0}))),s.a.createElement("div",{className:"Photoronoi__field"},s.a.createElement("label",null,"Type"),s.a.createElement("div",{className:"Photoronoi__field__value"},s.a.createElement(f.a,{className:"Photoronoi__slider",value:L,options:g,onChange:M}))),s.a.createElement("div",{className:"Photoronoi__field"},s.a.createElement("label",null,"Download"),s.a.createElement("div",{className:"Photoronoi__field__value"},s.a.createElement(d.a,{onClick:function(){var e=t.current.outerHTML,a=new Blob([e],{type:"image/svg+xmlcharset=utf-8"}),n=URL.createObjectURL(a),o=document.createElement("a");o.href=n,o.download="Photoronoi.svg",document.body.appendChild(o),o.click(),document.body.removeChild(o)}},s.a.createElement(v.a,{name:"download"}))))),s.a.createElement("div",{className:"Photoronoi__images"},s.a.createElement("canvas",{className:"Photoronoi__canvas",height:j,width:u,ref:e,style:{opacity:$}}),s.a.createElement("svg",{className:"Photoronoi__svg",xmlns:"http://www.w3.org/2000/svg",height:j,width:u,ref:t},s.a.createElement("path",{d:ne,fill:"none",stroke:"#6a6a85",strokeWidth:y}))))};s.a.memo(function(e){var t=e.dots;return s.a.createElement("g",{className:"Dots"},t.map(function(e,t){return s.a.createElement("circle",{key:t,cx:e.x,cy:e.y,r:1})}))}),s.a.memo(function(e){var t=e.paths,a=e.strokeWidth;return s.a.createElement("g",{className:"Voronoi"},t.map(function(e,t){return s.a.createElement("path",{key:t,d:e.d,strokeWidth:a,fill:"rgb(".concat([e.color.r,e.color.b,e.color.g].join(", "),")")})}))})},670:function(e,t,a){"use strict";var n=a(17),o=a(13),r=a(41),l=a(42),i=a(0),c=a.n(i),s=a(216),u=a.n(s),m=a(95);a(683);var h=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){return function(a){e.props.onChange(t,a)}},e}return Object(o.a)(a,[{key:"getClassName",value:function(){return u()("ButtonGroup",this.props.className)}},{key:"getButtonClassName",value:function(e){return u()(e.className,{"Button--active":e.isActive,"Button--inactive":!e.isActive})}},{key:"render",value:function(){var e=this,t=this.props.buttons;return c.a.createElement("div",{className:this.getClassName()},t.map(function(t,a){return c.a.createElement(m.a,{type:"button",key:a,className:e.getButtonClassName(t),disabled:t.isDisabled,onClick:e.onChange(t)},t.label||t,t.children)}))}}]),a}(i.Component);t.a=h},683:function(e,t,a){},701:function(e,t,a){"use strict";var n=a(55),o=a(34),r=a(0),l=a.n(r),i=(a(16),a(702),a(670));a(95);t.a=function(e){var t=e.options,a=e.value,r=e.onChange,c=Object(o.a)(e,["options","value","onChange"]),s=t.map(function(e){return Object(n.a)(Object(n.a)({},e),{},{isActive:e.id==a})});return l.a.createElement(i.a,Object.assign({},c,{buttons:s,onChange:function(e){return r(e.id)}}))}},702:function(e,t,a){}}]);
//# sourceMappingURL=49.3ac1d95b.chunk.js.map